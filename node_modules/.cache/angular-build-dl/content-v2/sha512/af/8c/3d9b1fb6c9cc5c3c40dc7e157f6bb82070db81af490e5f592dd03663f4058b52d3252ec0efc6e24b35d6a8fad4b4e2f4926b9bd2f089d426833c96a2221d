{"version":3,"sources":["webpack:///src/app/familymembers/familymembers.page.html","webpack:///src/app/familymembers/familymembers-routing.module.ts","webpack:///src/app/familymembers/familymembers.module.ts","webpack:///src/app/familymembers/familymembers.page.scss","webpack:///src/app/familymembers/familymembers.page.ts"],"names":["routes","path","component","FamilymembersPageRoutingModule","imports","forChild","exports","FamilymembersPageModule","declarations","FamilymembersPage","authService","jwtHelper","datepipe","storage","swasthStorage","loginAuth","router","patientList","pf_url","ptEmailid","ptMobileno","ptEmergencyEmailid","ptEmergencyContactno","profile","accountBtn","familyMembersDetails","newLogin","userdetail","familyMembers","LOGINUSER_PROFILE","ptID","tenantID","userID","ptFirstName","ptLastName","ptAge","ptAadharNo","ptMobileNo","ptBloodGroup","ptDob","ptEmailID","ptGender","ptCountry","ptAllergies","ptMaritalStatus","ptEmergencyContactName","ptEmergencyRelationship","ptEmergencyContactNo","ptEmergencyEmailID","updatedDateTime","Date","updatedByUserID","status","dob","latest_date","transform","dobdate","dobdate1","oneDay","timeDiff","Math","round","abs","getTime","age","age1","floor","getStorage","then","data","undefined","getFamilyMember","createdByUserID","subscribe","console","log","length","getPrimaryUserProfile","removeStorage","setStorage","navigateByUrl","JSON","stringify","userFirstLetter","charAt","toUpperCase","edit","assignValue","getAge","getAddressByUser","ptAddress","userid","accountType","getFamilyMemberProfile","familyProfile","logout","selector","template"],"mappings":"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","file":"familymembers-familymembers-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <!-- <ion-menu-button></ion-menu-button> -->\\n      <img src=\\\"{{authService.logo_url}}\\\" height=\\\"24\\\" style=\\\"vertical-align: middle; padding-left: 15px;\\\">\\n      <ion-title>Swasth</ion-title>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-icon name=\\\"notifications-outline\\\" style=\\\"font-size: 26px; padding-right: 20px;\\\"></ion-icon>\\n      <ion-icon name=\\\"exit-outline\\\" style=\\\"font-size: 26px;\\\" (click)=\\\"logout()\\\"></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- <ion-row>\\n    <ion-col class=\\\"regis__heading\\\">\\n      <h1>Select Profile</h1>\\n    </ion-col>\\n  </ion-row> -->\\n  <ion-row class=\\\"family-members\\\">\\n    <!-- <img src=\\\"https://swasth.online/img_avatar.png\\\" alt=\\\"Avatar\\\" class=\\\"avatar\\\">\\n    <img src=\\\"https://swasth.online/img_avatar2.png\\\" alt=\\\"Avatar\\\" class=\\\"avatar\\\">\\n    <img src=\\\"https://swasth.online/img_avatar.png\\\" alt=\\\"Avatar\\\" class=\\\"avatar\\\">\\n    <img src=\\\"https://swasth.online/img_avatar2.png\\\" alt=\\\"Avatar\\\" class=\\\"avatar\\\">\\n    <img src=\\\"https://swasth.online/img_avatar.png\\\" alt=\\\"Avatar\\\" class=\\\"avatar\\\"> -->\\n    <div class=\\\"mblk\\\" (click)=\\\"switchProfile(userdetail.userID,'Primary')\\\">\\n    <div class=\\\"block1\\\">      \\n      <ion-icon name=\\\"man\\\" class=\\\"member-icon\\\"></ion-icon>      \\n    </div>\\n    <ion-label class=\\\"member-name\\\">{{userdetail.ptFirstName}} {{userdetail.ptLastName}}</ion-label>\\n    </div>\\n    <div class=\\\"mblk\\\" *ngFor=\\\"let fm of familyMembers\\\">\\n    <div class=\\\"block2\\\" (click)=\\\"switchProfile(fm.userID,'Secondary')\\\">\\n      <ion-icon name=\\\"woman\\\" class=\\\"member-icon\\\"></ion-icon>      \\n    </div>\\n    <ion-label class=\\\"member-name\\\">{{fm.ptFirstName}} {{fm.ptLastName}}</ion-label>\\n    </div>\\n    <!-- <div class=\\\"mblk\\\">\\n    <div class=\\\"block3\\\">\\n    <ion-icon name=\\\"man\\\" class=\\\"member-icon\\\"></ion-icon>      \\n    </div>\\n    <ion-label class=\\\"member-name\\\">Member3</ion-label>\\n    </div>\\n    <div class=\\\"mblk\\\">\\n    <div class=\\\"block4\\\">\\n      <ion-icon name=\\\"woman\\\" class=\\\"member-icon\\\"></ion-icon>      \\n    </div>\\n    <ion-label class=\\\"member-name\\\">Member4</ion-label>\\n    </div>\\n    <div class=\\\"mblk\\\">\\n    <div class=\\\"block5\\\">\\n      <ion-icon name=\\\"man\\\" class=\\\"member-icon\\\"></ion-icon>      \\n    </div>\\n    <ion-label class=\\\"member-name\\\">Member5</ion-label>\\n    </div> -->\\n  </ion-row>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FamilymembersPage } from './familymembers.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FamilymembersPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FamilymembersPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FamilymembersPageRoutingModule } from './familymembers-routing.module';\n\nimport { FamilymembersPage } from './familymembers.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FamilymembersPageRoutingModule\n  ],\n  declarations: [FamilymembersPage]\n})\nexport class FamilymembersPageModule {}\n","export default \".regis__heading {\\n  height: 130px;\\n  padding-top: 40px;\\n  background-image: linear-gradient(120deg, #0059b3, #00b395);\\n}\\n.regis__heading h1 {\\n  text-align: start;\\n  color: #ffffff;\\n  padding-left: 10px;\\n  padding-top: 10px;\\n  text-shadow: 1px 1px 2px #222222;\\n}\\n.avatar {\\n  vertical-align: middle;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n  margin-left: 20px;\\n}\\n.family-members {\\n  position: absolute;\\n  padding-left: 148px;\\n  top: 90px;\\n}\\n.block1 {\\n  height: 100px;\\n  width: 100%;\\n  background-color: #00b3ea;\\n  background-image: linear-gradient(to top, #CCFFFF, #00b3ea 50%);\\n}\\n.mblk {\\n  width: 100px;\\n  text-align: center;\\n  height: 100%;\\n  margin-left: 15px;\\n}\\n.block2 {\\n  height: 100px;\\n  width: 100%;\\n  background-color: #00db89;\\n  background-image: linear-gradient(to top, #CCFFCC, #00db89 50%);\\n}\\n.block3 {\\n  height: 100px;\\n  width: 100%;\\n  background-color: #FFCC33;\\n  background-image: linear-gradient(to top, #FFFFCC, #FFCC33 50%);\\n}\\n.block4 {\\n  height: 100px;\\n  width: 100%;\\n  background-color: #003333;\\n  background-image: linear-gradient(to top, #CCCCCC, #003333 50%);\\n}\\n.block5 {\\n  height: 100px;\\n  width: 100%;\\n  background-color: #FF3333;\\n  background-image: linear-gradient(to top, #FFCCCC, #FF3333 50%);\\n}\\n.member-icon {\\n  color: #fff;\\n  font-size: 45px;\\n  margin-top: 27px;\\n  align-content: center;\\n}\\n.member-name {\\n  color: #9c9fa0;\\n  font-size: 15px;\\n  font-weight: bolder;\\n  text-align: center;\\n  width: 100%;\\n  display: block;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmFtaWx5bWVtYmVycy9GOlxcc3dhc3RoXFxzd2FzdGh2aXJ0dWFscGF0aWVudC9zcmNcXGFwcFxcZmFtaWx5bWVtYmVyc1xcZmFtaWx5bWVtYmVycy5wYWdlLnNjc3MiLCJzcmMvYXBwL2ZhbWlseW1lbWJlcnMvZmFtaWx5bWVtYmVycy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDSSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSwyREFBQTtBQ0FOO0FEQ007RUFDSSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0NBQUE7QUNDVjtBREdBO0VBQ0ksc0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNBSjtBREVBO0VBRUksa0JBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7QUNBSjtBREdBO0VBRUksYUFBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLCtEQUNBO0FDRko7QURRQTtFQUVFLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQ05GO0FEU0E7RUFFSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsK0RBQ0E7QUNSSjtBRGVBO0VBRUksYUFBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLCtEQUNBO0FDZEo7QURxQkE7RUFFSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsK0RBQ0E7QUNwQko7QUQyQkE7RUFFSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsK0RBQ0E7QUMxQko7QURpQ0E7RUFFRSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EscUJBQUE7QUMvQkY7QURrQ0E7RUFFRSxjQUFBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FDaENKIiwiZmlsZSI6InNyYy9hcHAvZmFtaWx5bWVtYmVycy9mYW1pbHltZW1iZXJzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yZWdpc3tcclxuICAmX19oZWFkaW5nIHtcclxuICAgICAgaGVpZ2h0OiAxMzBweDtcclxuICAgICAgcGFkZGluZy10b3A6IDQwcHg7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgxMjBkZWcsICMwMDU5YjMsICMwMGIzOTUpO1xyXG4gICAgICBoMSB7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDtcclxuICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gICAgICAgICAgcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgICAgICAgICB0ZXh0LXNoYWRvdzogMXB4IDFweCAycHggIzIyMjIyMjtcclxuICAgICAgfVxyXG4gIH1cclxufVxyXG4uYXZhdGFyIHtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICB3aWR0aDogNTBweDtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAyMHB4OyAgICBcclxuICB9XHJcbi5mYW1pbHktbWVtYmVyc1xyXG57ICAgXHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDE0OHB4O1xyXG4gICAgdG9wOiA5MHB4O1xyXG59XHJcblxyXG4uYmxvY2sxXHJcbntcclxuICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICB3aWR0aDogMTAwJTsgICAgXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBiM2VhO1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTpcclxuICAgIGxpbmVhci1ncmFkaWVudChcclxuICAgICAgICB0byB0b3AsXHJcbiAgICAgICAgI0NDRkZGRixcclxuICAgICAgICAjMDBiM2VhIDUwJVxyXG4gICAgICApO1xyXG59XHJcbi5tYmxrXHJcbntcclxuICB3aWR0aDogMTAwcHg7IFxyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XHJcbn1cclxuXHJcbi5ibG9jazJcclxue1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwZGI4OTtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6XHJcbiAgICBsaW5lYXItZ3JhZGllbnQoXHJcbiAgICAgICAgdG8gdG9wLFxyXG4gICAgICAgICNDQ0ZGQ0MsXHJcbiAgICAgICAgIzAwZGI4OSA1MCVcclxuICAgICAgKTtcclxufVxyXG5cclxuLmJsb2NrM1xyXG57XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZDQzMzO1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTpcclxuICAgIGxpbmVhci1ncmFkaWVudChcclxuICAgICAgICB0byB0b3AsXHJcbiAgICAgICAgI0ZGRkZDQyxcclxuICAgICAgICAjRkZDQzMzIDUwJVxyXG4gICAgICApO1xyXG59XHJcblxyXG4uYmxvY2s0XHJcbntcclxuICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDMzMzM7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOlxyXG4gICAgbGluZWFyLWdyYWRpZW50KFxyXG4gICAgICAgIHRvIHRvcCxcclxuICAgICAgICAjQ0NDQ0NDLFxyXG4gICAgICAgICMwMDMzMzMgNTAlXHJcbiAgICAgICk7XHJcbn1cclxuXHJcbi5ibG9jazVcclxue1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGMzMzMztcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6XHJcbiAgICBsaW5lYXItZ3JhZGllbnQoXHJcbiAgICAgICAgdG8gdG9wLFxyXG4gICAgICAgICNGRkNDQ0MsXHJcbiAgICAgICAgI0ZGMzMzMyA1MCVcclxuICAgICAgKTtcclxufVxyXG5cclxuLm1lbWJlci1pY29uXHJcbntcclxuICBjb2xvcjogI2ZmZjtcclxuICBmb250LXNpemU6IDQ1cHg7XHJcbiAgbWFyZ2luLXRvcDogMjdweDtcclxuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5tZW1iZXItbmFtZVxyXG57XHJcbiAgY29sb3I6ICM5YzlmYTA7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZGVyO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgXHJcbn1cclxuXHJcbiIsIi5yZWdpc19faGVhZGluZyB7XG4gIGhlaWdodDogMTMwcHg7XG4gIHBhZGRpbmctdG9wOiA0MHB4O1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoMTIwZGVnLCAjMDA1OWIzLCAjMDBiMzk1KTtcbn1cbi5yZWdpc19faGVhZGluZyBoMSB7XG4gIHRleHQtYWxpZ246IHN0YXJ0O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMnB4ICMyMjIyMjI7XG59XG5cbi5hdmF0YXIge1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICB3aWR0aDogNTBweDtcbiAgaGVpZ2h0OiA1MHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xufVxuXG4uZmFtaWx5LW1lbWJlcnMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHBhZGRpbmctbGVmdDogMTQ4cHg7XG4gIHRvcDogOTBweDtcbn1cblxuLmJsb2NrMSB7XG4gIGhlaWdodDogMTAwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBiM2VhO1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCAjQ0NGRkZGLCAjMDBiM2VhIDUwJSk7XG59XG5cbi5tYmxrIHtcbiAgd2lkdGg6IDEwMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGhlaWdodDogMTAwJTtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG59XG5cbi5ibG9jazIge1xuICBoZWlnaHQ6IDEwMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwZGI4OTtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgI0NDRkZDQywgIzAwZGI4OSA1MCUpO1xufVxuXG4uYmxvY2szIHtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkNDMzM7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICNGRkZGQ0MsICNGRkNDMzMgNTAlKTtcbn1cblxuLmJsb2NrNCB7XG4gIGhlaWdodDogMTAwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAzMzMzO1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCAjQ0NDQ0NDLCAjMDAzMzMzIDUwJSk7XG59XG5cbi5ibG9jazUge1xuICBoZWlnaHQ6IDEwMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGMzMzMztcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgI0ZGQ0NDQywgI0ZGMzMzMyA1MCUpO1xufVxuXG4ubWVtYmVyLWljb24ge1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC1zaXplOiA0NXB4O1xuICBtYXJnaW4tdG9wOiAyN3B4O1xuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5tZW1iZXItbmFtZSB7XG4gIGNvbG9yOiAjOWM5ZmEwO1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { JwtHelperService } from \"@auth0/angular-jwt\";\nimport { DatePipe } from \"@angular/common\";\nimport { Storage } from \"@ionic/storage\";\nimport { SwasthStorageService } from '../storage/swasth-storage.service';\nimport { LoginAuthService } from '../services/login-auth.service';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-familymembers',\n  templateUrl: './familymembers.page.html',\n  styleUrls: ['./familymembers.page.scss'],\n})\nexport class FamilymembersPage implements OnInit {\n\n  userID: string;\n  userFirstLetter: string;\n  public age1: any;\n  edit: any;\n\n  patientList: any[] = [];\n  pf_url: any = \"\";\n  ptEmailid: any = \"\";\n  ptMobileno: any = \"\";\n  ptEmergencyEmailid: any = \"\";\n  ptEmergencyContactno: any = \"\";\n\n  profile: any = {};\n  accountBtn = false;\n  userType: any;\n  background: any;\n  ptAddress: any;\n  primaryAccountUID: any;\n  notificationStatus: boolean;\n\n  user: string;\n  tenantID: string;\n  userfirstLetter: string;\n  familyMembersDetails: any = {};\n  primaryUser: any;\n  primaryUserID: any;\n  newLogin = \"\";\n\n  public userdetail: any = [];\n  familyMembers: any = [];\n  LOGINUSER_PROFILE = \"patient_profile\";\n\n  constructor(private readonly authService: AuthService,\n    jwtHelper: JwtHelperService,\n    public datepipe: DatePipe,\n    private readonly storage: Storage,\n    private swasthStorage: SwasthStorageService,\n    private loginAuth: LoginAuthService,\n    private router: Router\n  ) {\n    // this.authService\n    // .authUser\n    // .subscribe(jwt => {\n    //   if (jwt) {\n    //     const decoded = jwtHelper.decodeToken(jwt);\n    //     this.user = decoded;\n    //     this.userType=decoded.type;\n    //     this.tenantID=decoded.TenantID;\n    //     console.log(this.user); \n    //     this.primaryUser=decoded.UID;        \n    //     this.primaryUserID=decoded.UID;\n    //     console.log(\"Primary user Id..\"+this.primaryUserID);       \n    //     this.primaryAccountUID = this.primaryUser;\n    //     if(this.primaryUser==this.userdetail.userID){\n    //       this.accountBtn=true;\n    //     }\n    //     console.log(\"gggggggggggggggggggg\");\n    //     this.authService\n    //     .patientdetail(this.primaryUserID)     \n    //     .subscribe(data => {\n    //       console.log(\"gggggggggggggggggggg\",data);\n    //       if(data!==null){    \n    //         this.userdetail=data;\n    //         console.log(\"Home Page\"+ this.userdetail);\n    //         console.log(\"user_detail=====\"+JSON.stringify(this.userdetail));\n    //         console.log(\"user_id====\"+this.userdetail.userID);\n\n    //         this.userFirstLetter=this.userdetail.ptFirstName.charAt(0).toUpperCase();\n    //         this.edit = false;\n    //         this.assignValue();\n    //         if(this.userdetail.ptDob!=null)\n    //         {\n    //           this.getAge(this.userdetail.ptDob);\n    //         }\n    //         else{\n    //           this.age1=this.userdetail.ptAge;\n    //         }\n    //         this.authService\n    //         .getAddressByUser(this.userdetail.userID)\n    //         .subscribe(data=>{\n    //           if(data!=null){\n    //             this.ptAddress=data;\n    //           }\n    //         });       \n    //       }\n    //     });\n    //   }\n    //   else {\n    //     this.user = null;\n    //   }\n    // });\n  }\n\n  assignValue() {\n    this.profile = {\n      ptID: this.userdetail.ptID,\n      tenantID: this.userdetail.tenantID,\n      userID: this.userdetail.userID,\n      ptFirstName: this.userdetail.ptFirstName,\n      ptLastName: this.userdetail.ptLastName,\n      ptAge: this.userdetail.ptAge,\n      ptAadharNo: this.userdetail.ptAadharNo,\n      ptMobileNo: this.userdetail.ptMobileNo,\n      ptBloodGroup: this.userdetail.ptBloodGroup,\n      ptDob: this.userdetail.ptDob,\n      ptEmailID: this.userdetail.ptEmailID,\n      ptGender: this.userdetail.ptGender,\n      ptCountry: this.userdetail.ptCountry,\n      ptAllergies: this.userdetail.ptAllergies,\n      ptMaritalStatus: this.userdetail.ptMaritalStatus,\n      ptEmergencyContactName: this.userdetail.ptEmergencyContactName,\n      ptEmergencyRelationship: this.userdetail.ptEmergencyRelationship,\n      ptEmergencyContactNo: this.userdetail.ptEmergencyContactNo,\n      ptEmergencyEmailID: this.userdetail.ptEmergencyEmailID,\n      updatedDateTime: new Date(),\n      updatedByUserID: this.userdetail.userID,\n      status: this.userdetail.status\n    }\n  }\n\n  getAge(dob: Date) {\n    let latest_date = this.datepipe.transform(Date(), 'yyyy-MM-dd');\n    //console.log(\"Current Date==\"+latest_date);\n    let dobdate = new Date(dob)\n    let dobdate1 = new Date(latest_date);\n    // console.log(\"Current Date==\"+dobdate);\n    //current_date=Date.now();\n    var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds \n    var timeDiff = Math.round(Math.abs((dobdate1.getTime() - dobdate.getTime()) / (oneDay)));\n    //var diffDays = Math.round(Math.abs((dobdate.getTime() - current_date.getTime())/(oneDay)));\n    var age = (timeDiff / 365);\n    this.age1 = Math.floor(age);\n  }\n\n  ngOnInit() {\n    this.swasthStorage.getStorage(this.loginAuth.LOGINUSER_PROFILE).then(data => {\n      this.userdetail = data;\n      if (this.userdetail != undefined) {\n        this.authService\n          .getFamilyMember(this.userdetail.createdByUserID)\n          .subscribe(data => {\n            this.familyMembers = data;\n            console.log(\"Family Members==>\", this.familyMembers);\n            console.log(\"Family Members Count\", this.familyMembers.length);\n            if (this.familyMembers.length == 0) {\n              this.authService\n                .getPrimaryUserProfile(this.userdetail.userID)\n                .subscribe(data => {\n                  console.log(\"Primary Profile==>\", data);\n                  if (data != null) {\n                    this.swasthStorage.removeStorage(this.LOGINUSER_PROFILE);\n                    this.swasthStorage.setStorage(this.LOGINUSER_PROFILE, data);\n                    this.router.navigateByUrl('/pt-profile');\n                  }\n                });\n            }\n          });\n      }\n      this.accountBtn = true;\n      console.log(\"Home Page\" + this.userdetail);\n      console.log(\"user_detail=====\" + JSON.stringify(this.userdetail));\n      console.log(\"user_id====\" + this.userdetail.userID);\n\n      this.userFirstLetter = this.userdetail.ptFirstName.charAt(0).toUpperCase();\n      this.edit = false;\n      this.assignValue();\n      if (this.userdetail.ptDob != null) {\n        this.getAge(this.userdetail.ptDob);\n      }\n      else {\n        this.age1 = this.userdetail.ptAge;\n      }\n      this.authService\n        .getAddressByUser(this.userdetail.userID)\n        .subscribe(data => {\n          if (data != null) {\n            this.ptAddress = data;\n          }\n        });\n    });\n  }\n\n  switchProfile(userid, accountType) {\n    console.log(\"User id and account type\" + userid + \"  \" + accountType);\n    if (accountType == \"Primary\") {\n      this.authService\n        .getPrimaryUserProfile(userid)\n        .subscribe(data => {\n          console.log(\"Primary Profile==>\", data);\n          if (data != null) {\n            this.swasthStorage.removeStorage(this.LOGINUSER_PROFILE);\n            this.swasthStorage.setStorage(this.LOGINUSER_PROFILE, data);\n            this.router.navigateByUrl('/pt-profile');\n          }\n        });\n    }\n    else {\n      console.log(\"User id and account type\" + userid + \"  \" + accountType);\n      this.authService\n        .getFamilyMemberProfile(userid)\n        .subscribe(data => {\n          if (data != null) {\n            let familyProfile: any = {\n              accountType: null\n            }\n            familyProfile = data;\n            console.log(\"Secondary Profile==>\", data);\n            this.swasthStorage.removeStorage(this.LOGINUSER_PROFILE);\n            this.swasthStorage.setStorage(this.LOGINUSER_PROFILE, data);\n            this.router.navigateByUrl('/pt-profile');\n          }\n        });\n\n    }\n  }\n\n  logout() {\n    this.loginAuth.logout();\n  }\n\n\n\n}\n"]}