{"version":3,"sources":["webpack:///node_modules/Firebase/app/index.js","webpack:///node_modules/Firebase/auth/index.js","webpack:///node_modules/Firebase/database/index.js","webpack:///node_modules/Firebase/index.js","webpack:///node_modules/Firebase/messaging/index.js","webpack:///node_modules/Firebase/storage/index.js","webpack:///src/app/subscription-page/subscription-page.page.html","webpack:///src/app/razorpay.service.ts","webpack:///src/app/subscription-page/subscription-page-routing.module.ts","webpack:///src/app/subscription-page/subscription-page.module.ts","webpack:///src/app/subscription-page/subscription-page.page.scss","webpack:///src/app/subscription-page/subscription-page.page.ts"],"names":["module","exports","firebase","RazorpayService","http","loadingCtrl","url","data","headers","append","options","create","load","present","Promise","resolve","reject","post","pipe","dismiss","subscribe","res","err","get","providedIn","routes","path","component","SubscriptionPagePageRoutingModule","imports","forChild","SubscriptionPagePageModule","declarations","SubscriptionPagePage","route","router","authService","iab","razorpayService","planList","subscriptionObj","addons","notes","roomname","rooms","ref","getCurrentNavigation","extras","state","docProfileList","circleDetail","circledetail","ptDetail","ptdetail","myRand","random","queryParams","params","circleObj","getRazorpayPlanList","getSubscribPlanList","console","log","getRazorpaySubscribPlanList","rzPlanList","amount","amt","toString","substr","plan_id","planDetails","Date","getTime","expireDate","addonItem","item","name","currency","total_count","quantity","customer_notify","notes_key_1","notes_key_2","createRazorpaySubscribe","pay","addCircleObj","userID","circleCode","createdDateTime","subscribePlanId","status","createPtChatObj","circleName","docUserID","createdByUserId","patientUserID","patientName","ptFirstName","ptLastName","createdByDateTime","dl","doctorName","docFirstName","docLastName","chatRoomName","newData","push","set","on","resp","snapshotToArray","r","currentroomKey","key","chatRoomKey","createPtChat","data1","addPtToCircle","alert","navigate","subscriptionData","description","subscription_id","id","paymentCapture","bind","prefill","email","contact","theme","color","modal","ondismiss","successCallback","payment_id","cancelCallback","error","code","Razorpay","open","response","paymentId","razorpay_payment_id","rand","Math","floor","selector","template","snapshot","returnArr","forEach","childSnapshot","val"],"mappings":"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","file":"subscription-page-subscription-page-module-es5.js","sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/polyfill');\nmodule.exports = require('@firebase/app').default;\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/auth');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require('@firebase/database');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar firebase = require('./app');\nrequire('./auth');\nrequire('./database');\nrequire('./messaging');\nrequire('./storage');\n\nmodule.exports = firebase;\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/messaging');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/storage');\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n      <img src=\\\"{{authService.logo_url}}\\\" height=\\\"24\\\" style=\\\"vertical-align: middle; padding-left: 15px;\\\">\\r\\n      <ion-title>Swasth</ion-title>\\r\\n    </ion-buttons>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-icon name=\\\"exit-outline\\\" style=\\\"font-size: 26px;\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-row>\\r\\n    <ion-col class=\\\"regis__heading\\\">\\r\\n      <h1>Become a Premium</h1>\\r\\n      <p>Get access to health locker and other swasth features with premium subscription</p>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n  <ion-grid fixed>\\r\\n    <ion-row style=\\\"margin-top: 10px;\\\">\\r\\n      <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\" offsetMd=\\\"3\\\" *ngIf=\\\"rzPlanList!=undefined\\\">\\r\\n        <ion-card *ngFor=\\\"let pl of rzPlanList.items index as i\\\">  \\r\\n          <ion-card-content *ngIf=\\\"i<2\\\">\\r\\n            <div style=\\\"width: 100%; display: flex;\\\">\\r\\n              <div style=\\\"width: 65%;\\\">\\r\\n                <ion-card-subtitle>{{pl.item.name}}</ion-card-subtitle>\\r\\n                <ion-card-title>₹ {{showAmount(pl.item.amount)}}/ {{pl.period}}</ion-card-title>\\r\\n                <p>{{pl.item.description}}</p>\\r\\n              </div>\\r\\n              <div style=\\\"width: 35%; margin: auto;\\\">\\r\\n                <ion-button (click)=\\\"createSubscripe(pl.id,pl.item)\\\">Subscribe</ion-button>                \\r\\n              </div>\\r\\n            </div>\\r\\n          </ion-card-content>\\r\\n        </ion-card>        \\r\\n        <!-- <ion-card>\\r\\n          <ion-card-content>\\r\\n            <div style=\\\"width: 100%; display: flex;\\\">\\r\\n              <div style=\\\"width: 65%;\\\">\\r\\n                <ion-card-subtitle>Yearly</ion-card-subtitle>\\r\\n                <ion-card-title>₹ 80/ month</ion-card-title>\\r\\n                <p>Subscription Charged yearly - ₹960</p>\\r\\n              </div>\\r\\n              <div style=\\\"width: 35%; margin: auto;\\\">\\r\\n                <ion-button>Subscribe</ion-button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </ion-card-content>\\r\\n        </ion-card> -->        \\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <p style=\\\"font-weight: bold; padding-left: 10px; text-decoration: underline; color: #222222;\\\">Terms & Conditions:</p>\\r\\n        <p style=\\\"color: #737373;font-weight: 100; text-indent: 40px; padding-left: 10px; padding-right: 10px; word-break: break-all; font-size: 14px;\\\">ddada dada da da da da da da d dsa das da d ad ad sad sad ad ad ad ad sadas da da da da da dada dsada.</p>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestOptions } from '@angular/http';\r\n// import 'rxjs/add/operator/map';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RazorpayService {\r\n\r\n  data;\r\n\r\n  constructor(public http: Http,public loadingCtrl: LoadingController) { }\r\n\r\n  async callPost(url,data) {\r\n    var headers = new Headers();\r\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n    let options = new RequestOptions({ headers: headers });\r\n\r\n    const load=await this.loadingCtrl.create({});\r\n    load.present();\r\n\r\n    return new Promise((resolve,reject) => {\r\n      this.http.post(\"http://api.razorpay.com/\"+ url,data)\r\n      .pipe(finalize(()=>load.dismiss()))\r\n      .subscribe((res) => {\r\n          resolve(res);  \r\n      },(err)=>{\r\n        reject(err);\r\n      })\r\n    });\r\n  }\r\n\r\n  async callGet(url){\r\n    var headers = new Headers();\r\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n    let options = new RequestOptions({ headers: headers });\r\n\r\n    let load = await this.loadingCtrl.create({});\r\n    load.present();\r\n\r\n    return new Promise((resolve,reject) => {\r\n      this.http.get(\"http://api.razorpay.com/\"+ url)\r\n      .pipe(finalize(()=>load.dismiss()))\r\n      .subscribe((res) => {\r\n          resolve(res);  \r\n      },(err)=>{\r\n        reject(err);\r\n      })\r\n    });\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SubscriptionPagePage } from './subscription-page.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SubscriptionPagePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SubscriptionPagePageRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SubscriptionPagePageRoutingModule } from './subscription-page-routing.module';\r\n\r\nimport { SubscriptionPagePage } from './subscription-page.page';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SubscriptionPagePageRoutingModule\r\n  ],\r\n  declarations: [SubscriptionPagePage]\r\n})\r\nexport class SubscriptionPagePageModule {}\r\n","export default \".regis__heading {\\n  height: 180px;\\n  padding-top: 50px;\\n  background-image: linear-gradient(120deg, #0059b3, #00b395);\\n}\\n.regis__heading h1 {\\n  text-align: center;\\n  color: #fff;\\n  text-shadow: 1px 1px 5px #222222;\\n}\\n.regis__heading p {\\n  text-align: center;\\n  color: #fff;\\n}\\nion-button {\\n  --border-radius: 30px;\\n  --background: #00b395;\\n}\\nion-card {\\n  --background:aliceblue;\\n  border-radius: 10px;\\n}\\nion-card ion-card-title {\\n  color: #0059b3;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3Vic2NyaXB0aW9uLXBhZ2UvRjpcXHN3YXN0aFxcc3dhc3RodmlydHVhbHBhdGllbnQvc3JjXFxhcHBcXHN1YnNjcmlwdGlvbi1wYWdlXFxzdWJzY3JpcHRpb24tcGFnZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3N1YnNjcmlwdGlvbi1wYWdlL3N1YnNjcmlwdGlvbi1wYWdlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLGFBQUE7RUFDQSxpQkFBQTtFQUNBLDJEQUFBO0FDQVI7QURDUTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGdDQUFBO0FDQ1o7QURDUTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtBQ0NaO0FER0E7RUFDSSxxQkFBQTtFQUNBLHFCQUFBO0FDQUo7QURFQTtFQUNJLHNCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBREFJO0VBQ0ksY0FBQTtBQ0VSIiwiZmlsZSI6InNyYy9hcHAvc3Vic2NyaXB0aW9uLXBhZ2Uvc3Vic2NyaXB0aW9uLXBhZ2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZ2lze1xyXG4gICAgJl9faGVhZGluZyB7XHJcbiAgICAgICAgaGVpZ2h0OiAxODBweDtcclxuICAgICAgICBwYWRkaW5nLXRvcDogNTBweDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoMTIwZGVnLCAjMDA1OWIzLCAjMDBiMzk1KTtcclxuICAgICAgICBoMSB7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgIHRleHQtc2hhZG93OiAxcHggMXB4IDVweCAjMjIyMjIyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwIHtcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuaW9uLWJ1dHRvbiB7XHJcbiAgICAtLWJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgICAtLWJhY2tncm91bmQ6ICMwMGIzOTU7XHJcbn1cclxuaW9uLWNhcmQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOmFsaWNlYmx1ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBpb24tY2FyZC10aXRsZSB7XHJcbiAgICAgICAgY29sb3I6ICMwMDU5YjM7XHJcbiAgICB9XHJcbn0iLCIucmVnaXNfX2hlYWRpbmcge1xuICBoZWlnaHQ6IDE4MHB4O1xuICBwYWRkaW5nLXRvcDogNTBweDtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDEyMGRlZywgIzAwNTliMywgIzAwYjM5NSk7XG59XG4ucmVnaXNfX2hlYWRpbmcgaDEge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LXNoYWRvdzogMXB4IDFweCA1cHggIzIyMjIyMjtcbn1cbi5yZWdpc19faGVhZGluZyBwIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogI2ZmZjtcbn1cblxuaW9uLWJ1dHRvbiB7XG4gIC0tYm9yZGVyLXJhZGl1czogMzBweDtcbiAgLS1iYWNrZ3JvdW5kOiAjMDBiMzk1O1xufVxuXG5pb24tY2FyZCB7XG4gIC0tYmFja2dyb3VuZDphbGljZWJsdWU7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG5pb24tY2FyZCBpb24tY2FyZC10aXRsZSB7XG4gIGNvbG9yOiAjMDA1OWIzO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { AuthService } from '../auth.service';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\r\nimport { RazorpayService } from '../razorpay.service';\r\nimport * as firebase from 'Firebase';\r\n\r\n@Component({\r\n  selector: 'app-subscription-page',\r\n  templateUrl: './subscription-page.page.html',\r\n  styleUrls: ['./subscription-page.page.scss'],\r\n})\r\nexport class SubscriptionPagePage implements OnInit {\r\n  paymentId: any;\r\n\r\n  planList: any = [];\r\n  rzPlanList: any;\r\n  circleObj: any;\r\n  subscribeResp: any;\r\n  docProfileList: any;\r\n  circleDetail: any;\r\n  ptDetail: any;\r\n  subscriptionObj: any = {\r\n    addons: [],\r\n    notes: {}\r\n  }\r\n  data = { roomname: '' };\r\n  rooms = [];\r\n  ref = firebase.database().ref('chatrooms/');\r\n  currentroomKey: any;\r\n  chatRoomName: any;\r\n  myRand: any;\r\n\r\n  constructor(private route: ActivatedRoute, private router: Router, private readonly authService: AuthService,\r\n    private iab: InAppBrowser, private razorpayService: RazorpayService) {\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      this.docProfileList = this.router.getCurrentNavigation().extras.state.docProfileList;\r\n      this.circleDetail = this.router.getCurrentNavigation().extras.state.circledetail;\r\n      this.ptDetail = this.router.getCurrentNavigation().extras.state.ptdetail;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.myRand = this.random();\r\n    this.route.queryParams.subscribe(params => {\r\n      if (this.router.getCurrentNavigation().extras.state) {\r\n        this.circleObj = this.router.getCurrentNavigation().extras.state.circleObj;\r\n      }\r\n    });\r\n\r\n    this.getRazorpayPlanList();\r\n\r\n  }\r\n\r\n  // get swasth subscribe plan list\r\n  getPlanList() {\r\n    this.authService.getSubscribPlanList()\r\n      .subscribe(data => {\r\n        console.log(\"response res--\", data);\r\n        this.planList = data;\r\n      });\r\n  }\r\n\r\n  // get razorpay subscribe plan list\r\n  getRazorpayPlanList() {\r\n    this.authService.getRazorpaySubscribPlanList()\r\n      .subscribe(data => {\r\n        console.log(\"response res--\", data);\r\n        this.rzPlanList = data;\r\n      });\r\n  }\r\n\r\n  showAmount(amount: any) {\r\n    console.log(\"amount\", amount);\r\n    let amt = amount.toString();\r\n    return amt.substr(0, 3);\r\n  }\r\n\r\n  circlepage() {\r\n    console.log(\"asdada\");\r\n    // this.router.navigate(['/login']);\r\n  }\r\n  createSubscripe(plan_id, planDetails) {\r\n    console.log(\"Current Time==>\", new Date().getTime());\r\n    console.log(\"Plan ID==>\", plan_id);\r\n    // let dateObj=new Date();\r\n    // dateObj.setTime(dateObj.getDate()+30);\r\n    let expireDate = new Date((new Date()).getTime() + 30 * 24 * 60 * 60 * 1000);\r\n    console.log(\"Expire Time==>\", expireDate.getTime());\r\n    let addonItem: any = {\r\n      item: {\r\n        name: planDetails.name,\r\n        amount: planDetails.amount,\r\n        currency: \"INR\"\r\n      }\r\n    }\r\n    console.log(\"Plan Details==>\", planDetails);\r\n    this.subscriptionObj.plan_id = plan_id;\r\n    this.subscriptionObj.total_count = 1;\r\n    this.subscriptionObj.quantity = 1;\r\n    // this.subscriptionObj.start_at=new Date().getTime();\r\n    // this.subscriptionObj.expire_by=expireDate.getTime();\r\n    this.subscriptionObj.customer_notify = 1;\r\n    //this.subscriptionObj.addons.push(addonItem);\r\n    this.subscriptionObj.notes.notes_key_1 = \"\";\r\n    this.subscriptionObj.notes.notes_key_2 = \"\";\r\n    console.log(\"Subscription Object==>\", this.subscriptionObj);\r\n    this.authService\r\n      .createRazorpaySubscribe(this.subscriptionObj)\r\n      .subscribe(data => {\r\n        console.log(\"data\", data);\r\n        if (data != null) {\r\n          this.pay(data);\r\n        }\r\n      });\r\n  }\r\n\r\n  subscribe() {\r\n    console.log(\"circle detail\", this.circleDetail, this.docProfileList, this.ptDetail);\r\n    let addCircleObj: any = {\r\n      userID: this.ptDetail.userID,\r\n      circleCode: this.circleDetail.circleObj.circleCode,\r\n      createdDateTime: new Date(),\r\n      subscribePlanId: \"1\",\r\n      status: \"Active\"\r\n    }\r\n    let createPtChatObj: any = {\r\n      circleCode: this.circleDetail.circleObj.circleCode,\r\n      circleName: this.circleDetail.circleObj.circleName,\r\n      docUserID: this.circleDetail.circleObj.createdByUserId,\r\n      patientUserID: this.ptDetail.userID,\r\n      patientName: this.ptDetail.ptFirstName + \" \" + this.ptDetail.ptLastName,\r\n      createdByDateTime: new Date(),\r\n      status: \"Active\"\r\n    }\r\n    for (let dl of this.docProfileList) {\r\n      if (dl.docUserID == this.circleDetail.circleObj.createdByUserId) {\r\n        createPtChatObj.doctorName = dl.docFirstName + \" \" + dl.docLastName;\r\n        this.chatRoomName = dl.docFirstName + \" \" + dl.docLastName + \"-\" + this.ptDetail.ptFirstName + \" \" + this.ptDetail.ptLastName + \" \" + this.myRand;\r\n      }\r\n    }\r\n    createPtChatObj.chatRoomName = this.chatRoomName;\r\n    let newData = this.ref.push();\r\n    newData.set({\r\n      roomname: this.chatRoomName\r\n    });\r\n    this.ref.on('value', resp => {\r\n      this.rooms = [];\r\n      this.rooms = snapshotToArray(resp);\r\n      console.log(\"Rooms==>\", this.rooms);\r\n      for (let r of this.rooms) {\r\n        if (r.roomname == this.chatRoomName) {\r\n          this.currentroomKey = r.key;\r\n        }\r\n      }\r\n    });\r\n\r\n    if (this.currentroomKey != null) {\r\n      createPtChatObj.chatRoomKey = this.currentroomKey;\r\n      this.authService\r\n        .createPtChat(createPtChatObj)\r\n        .subscribe(data1 => {\r\n          console.log(\"data1\", data1);\r\n        });\r\n    }\r\n    console.log(\"addcircle\", addCircleObj);\r\n    console.log(\"createchat\", createPtChatObj);\r\n    this.authService\r\n      .addPtToCircle(addCircleObj)\r\n      .subscribe(data => {\r\n        console.log(\"data\", data);\r\n        if (data != null) {\r\n          alert(\"You have been subscribed to virtual Hospital \" + this.circleDetail.circleObj.circleName);\r\n          this.router.navigate(['/subscribed-doctor-circle']);\r\n        }\r\n      });\r\n\r\n\r\n  }\r\n\r\n  pay(subscriptionData) {\r\n    var options = {\r\n      description: 'Credits towards consultation',\r\n      // image: 'https://i.imgur.com/3g7nmJC.png',\r\n      currency: 'INR',\r\n      key: 'rzp_test_SeRkqskw09t911',\r\n      subscription_id: subscriptionData.id,\r\n      name: \"Varadhan P\",\r\n      'handler': this.paymentCapture.bind(this),\r\n      prefill: {\r\n        email: 'varadhan@swasth.tech',\r\n        contact: '9884396427'\r\n      },\r\n      theme: {\r\n        color: '#F37254'\r\n      },\r\n      modal: {\r\n        ondismiss: () => { // <- Here!\r\n          //alert('dismissed')\r\n        }\r\n      }\r\n    }\r\n\r\n    var successCallback = (payment_id) => { // <- Here!\r\n      //alert('payment_id: ' + payment_id);\r\n      // this.navCtrl.push(\"ThankyouPage\",{\r\n      //         status: this.status\r\n      //     });\r\n    };\r\n\r\n    var cancelCallback = (error) => { // <- Here!\r\n      alert(error.description + ' (Error ' + error.code + ')');\r\n    };\r\n\r\n    Razorpay.open(options, successCallback, cancelCallback);\r\n  }\r\n\r\n  paymentCapture(response) {\r\n    this.paymentId = response.razorpay_payment_id;\r\n    //alert(this.paymentId);\r\n    console.log(\"payment id \" + this.paymentId);\r\n    this.subscribe();\r\n  }\r\n\r\n  random(): number {\r\n    let rand = Math.floor(Math.random() * 20000) + 1;\r\n    return rand;\r\n  }\r\n}\r\n\r\nexport const snapshotToArray = snapshot => {\r\n  let returnArr = [];\r\n\r\n  snapshot.forEach(childSnapshot => {\r\n    let item = childSnapshot.val();\r\n    item.key = childSnapshot.key;\r\n    returnArr.push(item);\r\n  });\r\n\r\n  return returnArr;\r\n};\r\n"]}