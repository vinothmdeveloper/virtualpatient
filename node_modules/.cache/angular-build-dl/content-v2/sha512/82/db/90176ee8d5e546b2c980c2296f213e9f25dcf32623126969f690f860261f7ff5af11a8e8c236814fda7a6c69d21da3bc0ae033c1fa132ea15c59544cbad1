{"version":3,"sources":["webpack:///node_modules/Firebase/app/index.js","webpack:///node_modules/Firebase/auth/index.js","webpack:///node_modules/Firebase/database/index.js","webpack:///node_modules/Firebase/index.js","webpack:///node_modules/Firebase/messaging/index.js","webpack:///node_modules/Firebase/storage/index.js","webpack:///src/app/send-triage-doc-complaint/send-triage-doc-complaint.page.html","webpack:///src/app/send-triage-doc-complaint/send-triage-doc-complaint.page.scss","webpack:///src/app/send-triage-doc-complaint/send-triage-doc-complaint.page.ts"],"names":["module","exports","firebase","SendTriageDocComplaintPage","modalCtrl","authService","router","datepipe","dataService","data","roomname","rooms","ref","autoRefreshChat","inference","myRand","random","console","log","ptDetail","docDetail","adminDocDetail","triageChatDetail","ptChatFormatDetail","randomString","Math","toString","substring","url","getAge","ptDob","triageObj","circleCode","ptUserID","userID","docUserID","docProfile","triageDocUserID","createdDateTime","Date","status","ptName","ptFirstName","ptLastName","triageDocName","docFirstName","docLastName","chatRoomName","complaintStatus","chatRoomKey","referID","videoCallLink","triageRefDoctor","subscribe","triageDetail","triageDoctorPtChat","push","set","type","user","message","complaintMessage","sendDate","dismiss","alert","chat","complaint","howLong","preExistingIllness","dob","latest_date","transform","dobdate","dobdate1","oneDay","timeDiff","round","abs","getTime","a","age","floor","rand","selector","template","snapshotToArray","snapshot","returnArr","forEach","childSnapshot","item","val","key"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;AAgBA,uBAAO;AAAC;AAAA,yDAAD,CAAP;;AACAA,UAAM,CAACC,OAAP,GAAiB,mBAAO;AAAC;AAAA,oDAAD,CAAP,WAAjB;;;;;;;;;;;;;;ACjBA;;;;;;;;;;;;;;;AAgBA,uBAAO;AAAC;AAAA,gDAAD,CAAP;;;;;;;;;;;;;;;AChBA;;;;;;;;;;;;;;;AAgBAD,UAAM,CAACC,OAAP,GAAiB,mBAAO;AAAC;AAAA,yDAAD,CAAxB;;;;;;;;;;;;;;AChBA;;;;;;;;;;;;;;;AAgBA,QAAIC,QAAQ,GAAG,mBAAO;AAAC;AAAA,0CAAD,CAAtB;;AACA,uBAAO;AAAC;AAAA,2CAAD,CAAP;;AACA,uBAAO;AAAC;AAAA,+CAAD,CAAP;;AACA,uBAAO;AAAC;AAAA,gDAAD,CAAP;;AACA,uBAAO;AAAC;AAAA,8CAAD,CAAP;;AAEAF,UAAM,CAACC,OAAP,GAAiBC,QAAjB;;;;;;;;;;;;;;ACtBA;;;;;;;;;;;;;;;AAgBA,uBAAO;AAAC;AAAA,0DAAD,CAAP;;;;;;;;;;;;;;;AChBA;;;;;;;;;;;;;;;AAgBA,uBAAO;AAAC;AAAA,wDAAD,CAAP;;;;;;;;;;;;;;;;;AChBA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACef,QAAaC,0BAA0B;AAyBrC,0CAAmBC,SAAnB,EAAsDC,WAAtD,EAAuFC,MAAvF,EACSC,QADT,EACqCC,WADrC,EAC+D;AAAA;;AAD5C,aAAAJ,SAAA,GAAAA,SAAA;AAAmC,aAAAC,WAAA,GAAAA,WAAA;AAAiC,aAAAC,MAAA,GAAAA,MAAA;AAC9E,aAAAC,QAAA,GAAAA,QAAA;AAA4B,aAAAC,WAAA,GAAAA,WAAA;AAhBrC,aAAAC,IAAA,GAAO;AAAEC,kBAAQ,EAAE;AAAZ,SAAP;AACA,aAAAC,KAAA,GAAQ,EAAR;AACA,aAAAC,GAAA,GAAM,oDAAoBA,GAApB,CAAwB,YAAxB,CAAN;AACA,aAAAC,eAAA,GAAkB,oDAAoBD,GAApB,CAAwB,wBAAxB,CAAlB;AAIA,aAAAE,SAAA,GAAiB,EAAjB;AASkE;;AA1B7B;AAAA;AAAA,mCA4B1B;AACT,eAAKC,MAAL,GAAc,KAAKC,MAAL,EAAd;AACAC,iBAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC,KAAKC,QAAzC,EAAmD,KAAKC,SAAxD,EAAmE,KAAKC,cAAxE,EAAwF,KAAKC,gBAA7F,EAA8G,KAAKC,kBAAnH;AACA,eAAKC,YAAL,GAAoBC,IAAI,CAACT,MAAL,GAAcU,QAAd,CAAuB,EAAvB,EAA2BC,SAA3B,CAAqC,CAArC,CAApB;AACAV,iBAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+B,KAAKM,YAApC;AACA,eAAKI,GAAL,GAAS,yBAAuB,KAAKJ,YAArC;AACA,eAAKK,MAAL,CAAY,KAAKV,QAAL,CAAcW,KAA1B;AACD,SAnCoC,CAqCrC;;AArCqC;AAAA;AAAA,2CAsClB;AAAA;;AACjBb,iBAAO,CAACC,GAAR,CAAY,QAAZ;AACA,cAAIa,SAAS,GAAM;AACjBC,sBAAU,EAAE,KAAKA,UADA;AAEjBC,oBAAQ,EAAE,KAAKd,QAAL,CAAce,MAFP;AAGjBC,qBAAS,EAAE,KAAKd,cAAL,CAAoB,CAApB,EAAuBe,UAAvB,CAAkCD,SAH5B;AAIjBE,2BAAe,EAAE,KAAKjB,SAAL,CAAee,SAJf;AAKjBG,2BAAe,EAAE,IAAIC,IAAJ,EALA;AAMjBC,kBAAM,EAAE,QANS;AAOjBC,kBAAM,EAAE,KAAKtB,QAAL,CAAcuB,WAAd,GAA0B,GAA1B,GAA8B,KAAKvB,QAAL,CAAcwB,UAPnC;AAQjBC,yBAAa,EAAE,KAAKxB,SAAL,CAAeyB,YAAf,GAA4B,GAA5B,GAAgC,KAAKzB,SAAL,CAAe0B,WAR7C;AASjBC,wBAAY,EAAE,KAAKA,YATF;AAUjBC,2BAAe,EAAE,IAVA;AAWjB;AACAC,uBAAW,EAAE,KAAK3B,gBAAL,CAAsB2B,WAZlB;AAajBC,mBAAO,EAAE,KAAK5B,gBAAL,CAAsB4B,OAbd;AAcjBC,yBAAa,EAAC,KAAKvB;AAdF,WAAnB;AAiBAX,iBAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBa,SAAxB;AACA,eAAK1B,WAAL,CACC+C,eADD,CACiBrB,SADjB,EAECsB,SAFD,CAEW,UAAA5C,IAAI,EAAE;AACfQ,mBAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBT,IAAnB;AACA,gBAAI6C,YAAY,GAAM7C,IAAtB;;AACA,gBAAGA,IAAI,IAAE,IAAT,EAAe;AACb,kBAAI8C,kBAAkB,GAAG,oDAAoB3C,GAApB,CAAwB,eAAa,KAAI,CAACU,gBAAL,CAAsB2B,WAAnC,GAA+C,QAAvE,EAAiFO,IAAjF,EAAzB;AACAD,gCAAkB,CAACE,GAAnB,CAAuB;AACrBC,oBAAI,EAAE,WADe;AAErBC,oBAAI,EAAE,KAAI,CAACxC,QAAL,CAAce,MAFC;AAGrB0B,uBAAO,EAAE,KAAI,CAACC,gBAAL,CAAsB,cAAtB,CAHY;AAIrBC,wBAAQ,EAACvB,IAAI;AAJQ,eAAvB;;AAMA,mBAAI,CAACnC,SAAL,CAAe2D,OAAf;AACD,aATD,MASM;AACJC,mBAAK,CAAC,kBAAD,CAAL;AACD;AACF,WAjBD,EApBiB,CAuCjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAED;AAzFoC;AAAA;AAAA,yCA2FpBC,IA3FoB,EA2FV;AACzB,cAAIC,SAAS,GAAS,EAAtB;AACAjD,iBAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAKK,kBAA9B;;AACA,cAAI,KAAKA,kBAAL,CAAwB4C,OAAxB,IAAiC,EAAjC,IAAuC,KAAK5C,kBAAL,CAAwB6C,kBAAxB,IAA4C,EAAvF,EAA2F;AACzFF,qBAAS,GAAC,+BAA6B,IAA7B,GAAkC,KAAK3C,kBAAL,CAAwB2C,SAA1D,GAAoE,MAApE,GACI,sDADJ,GAC2D,IAD3D,GACgE,KAAK3C,kBAAL,CAAwB4C,OADxF,GACgG,MADhG,GAEI,yDAFJ,GAE8D,IAF9D,GAEmE,KAAK5C,kBAAL,CAAwB6C,kBAFrG;AAGD,WAJD,MAIM,IAAG,KAAK7C,kBAAL,CAAwB4C,OAAxB,IAAiC,EAAjC,IAAuC,KAAK5C,kBAAL,CAAwB6C,kBAAxB,IAA4C,EAAtF,EAA0F;AAC9FF,qBAAS,GAAC,+BAA6B,IAA7B,GAAkC,KAAK3C,kBAAL,CAAwB2C,SAA1D,GAAoE,MAApE,GACI,sDADJ,GAC2D,IAD3D,GACgE,KAAK3C,kBAAL,CAAwB4C,OADlG;AAED,WAHK,MAGA,IAAG,KAAK5C,kBAAL,CAAwB4C,OAAxB,IAAiC,EAAjC,IAAuC,KAAK5C,kBAAL,CAAwB6C,kBAAxB,IAA4C,EAAtF,EAA0F;AAC9FF,qBAAS,GAAC,+BAA6B,IAA7B,GAAkC,KAAK3C,kBAAL,CAAwB2C,SAA1D,GAAoE,MAApE,GACI,yDADJ,GAC8D,IAD9D,GACmE,KAAK3C,kBAAL,CAAwB6C,kBADrG;AAED,WAHK,MAGA,IAAG,KAAK7C,kBAAL,CAAwB4C,OAAxB,IAAiC,EAAjC,IAAuC,KAAK5C,kBAAL,CAAwB6C,kBAAxB,IAA4C,EAAtF,EAA0F;AAC9FF,qBAAS,GAAC,+BAA6B,IAA7B,GAAkC,KAAK3C,kBAAL,CAAwB2C,SAApE;AACD;;AACD,iBAAOA,SAAP;AACD;AA5GoC;AAAA;AAAA,+BA8G9BG,GA9G8B,EA8GnB;AAChB,cAAIC,WAAW,GAAG,KAAK/D,QAAL,CAAcgE,SAAd,CAAwB,IAAIhC,IAAJ,EAAxB,EAAoC,YAApC,CAAlB;AACA,cAAIiC,OAAO,GAAG,IAAIjC,IAAJ,CAAS8B,GAAT,CAAd;AACA,cAAII,QAAQ,GAAG,IAAIlC,IAAJ,CAAS+B,WAAT,CAAf;AACA,cAAII,MAAM,GAAG,KAAK,EAAL,GAAU,EAAV,GAAe,IAA5B,CAJgB,CAIkB;;AAClC,cAAIC,QAAQ,GAAGlD,IAAI,CAACmD,KAAL,CAAWnD,IAAI,CAACoD,GAAL,CAAS,CAACJ,QAAQ,CAACK,OAAT,KAAqBN,OAAO,CAACM,OAAR,EAAtB,IAA4CJ,MAArD,CAAX,CAAf,CALgB,CAMhB;;AACA,cAAIK,CAAC,GAAIJ,QAAQ,GAAG,GAApB;AACA,eAAKK,GAAL,GAAWvD,IAAI,CAACwD,KAAL,CAAWF,CAAX,CAAX,CARgB,CAShB;;AACA;AACD;AAzHoC;AAAA;AAAA,iCA4H/B;AACJ,cAAIG,IAAI,GAAGzD,IAAI,CAACwD,KAAL,CAAWxD,IAAI,CAACT,MAAL,KAAgB,KAA3B,IAAoC,CAA/C;AACA,iBAAOkE,IAAP;AACD;AA/HoC;AAAA;AAAA,qCAiI3B;AACR,eAAK9E,SAAL,CAAe2D,OAAf;AACD;AAnIoC;;AAAA;AAAA,OAAvC;;;;cAyBgC;;cAAqC;;cAA4B;;cAC5E;;cAA+B;;;;AAzBzC,8DAAR,6DAAQ,E,+EAAA,G,oCAAA,E,WAAA,E,MAAA;AACA,8DAAR,6DAAQ,E,+EAAA,G,oCAAA,E,gBAAA,E,MAAA;AACA,8DAAR,6DAAQ,E,+EAAA,G,oCAAA,E,YAAA,E,MAAA;AACA,8DAAR,6DAAQ,E,+EAAA,G,oCAAA,E,UAAA,E,MAAA;AACA,8DAAR,6DAAQ,E,+EAAA,G,oCAAA,E,YAAA,E,MAAA;AACA,8DAAR,6DAAQ,E,+EAAA,G,oCAAA,E,oBAAA,E,MAAA;AACA,8DAAR,6DAAQ,E,+EAAA,G,oCAAA,E,kBAAA,E,MAAA;AAPE5D,8BAA0B,6DALtC,gEAAU;AACTgF,cAAQ,EAAE,+BADD;AAETC,cAAQ,EAAR;AAAA;AAAA,kIAFS;;;;AAAA,KAAV,CAKsC,E,+EAyBP,8D,EAAqC,yD,EAA4B,sD,EAC5E,wD,EAA+B,kE,EA1Bb,GAA1BjF,0BAA0B,CAA1B;;AAuIN,QAAMkF,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,QAAQ,EAAI;AACzC,UAAIC,SAAS,GAAG,EAAhB;AAEAD,cAAQ,CAACE,OAAT,CAAiB,UAAAC,aAAa,EAAI;AAChC,YAAIC,IAAI,GAAGD,aAAa,CAACE,GAAd,EAAX;AACAD,YAAI,CAACE,GAAL,GAAWH,aAAa,CAACG,GAAzB;AACAL,iBAAS,CAAC/B,IAAV,CAAekC,IAAf;AACD,OAJD;AAMA,aAAOH,SAAP;AACD,KAVM","file":"default~chatroom-chatroom-module~send-triage-doc-complaint-send-triage-doc-complaint-module-es5.js","sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/polyfill');\nmodule.exports = require('@firebase/app').default;\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/auth');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require('@firebase/database');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar firebase = require('./app');\nrequire('./auth');\nrequire('./database');\nrequire('./messaging');\nrequire('./storage');\n\nmodule.exports = firebase;\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/messaging');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/storage');\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Send complaint to Triaged Doctor</ion-title>\\r\\n    <ion-icon slot=\\\"end\\\" name=\\\"close-circle\\\" title=\\\"close\\\" class=\\\"appointment-close-button\\\" (click)=\\\"closeModal()\\\"></ion-icon>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n  <ion-row>\\r\\n    <ion-col size=12>\\r\\n      <h3 class=\\\"header\\\">{{circleName}}</h3>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n  <ion-row>\\r\\n    <ion-col size=12 sizeMd=6>\\r\\n      <ion-card class=\\\"card\\\">\\r\\n        <ion-card-content>\\r\\n          <div class=\\\"card__header\\\">\\r\\n            <div class=\\\"card__header-icon1\\\">\\r\\n              <img src=\\\"../../assets/imgs/user_icon.png\\\">\\r\\n            </div>\\r\\n            <div style=\\\"width: 80%;\\\">\\r\\n              <h5>Doctor Information</h5>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div style=\\\"display: flex;\\\">\\r\\n            <p class=\\\"card__label\\\">Name:</p>\\r\\n            <p class=\\\"card__detail\\\">{{docDetail.docFirstName}} {{docDetail.docLastName}}</p>\\r\\n          </div>\\r\\n          <div style=\\\"display: flex;\\\">\\r\\n            <p class=\\\"card__label\\\">Qualification:</p>\\r\\n            <p class=\\\"card__detail\\\">{{docDetail.docQualification}}</p>\\r\\n          </div>\\r\\n          <div style=\\\"display: flex;\\\">\\r\\n            <p class=\\\"card__label\\\">Specialization:</p>\\r\\n            <p class=\\\"card__detail\\\">{{docDetail.docSpecialization}}</p>\\r\\n          </div>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n    <ion-col size=12 sizeMd=6>\\r\\n      <ion-card class=\\\"card\\\">\\r\\n        <ion-card-content>\\r\\n          <div class=\\\"card__header\\\">\\r\\n            <div class=\\\"card__header-icon\\\">\\r\\n              <ion-icon name=\\\"person-outline\\\"></ion-icon>\\r\\n            </div>\\r\\n            <div style=\\\"width: 80%;\\\">\\r\\n              <h5> Patient Information</h5>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div style=\\\"display: flex;\\\">\\r\\n            <p class=\\\"card__label\\\">Name:</p>\\r\\n            <p class=\\\"card__detail\\\">{{ptDetail.ptFirstName}} {{ptDetail.ptLastName}}</p>\\r\\n          </div>\\r\\n          <div style=\\\"display: flex;\\\">\\r\\n            <p class=\\\"card__label\\\">Gender/Age:</p>\\r\\n            <p class=\\\"card__detail\\\">{{ptDetail.ptGender}} / {{age}} Years</p>\\r\\n          </div>\\r\\n          <div style=\\\"display: flex;\\\">\\r\\n            <p class=\\\"card__label\\\">Phone No.:</p>\\r\\n            <p class=\\\"card__detail\\\">{{ptDetail.ptMobileNo}}</p>\\r\\n          </div>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n  <ion-row style=\\\"margin: 0 12px;\\\">\\r\\n    <ion-col size=12>\\r\\n      <p class=\\\"c-form__label document_for\\\">General Health Complaint<sup>*</sup></p>\\r\\n      <textarea type=\\\"text\\\" class=\\\"c-form__input\\\" name=\\\"complaint\\\" [(ngModel)]=\\\"ptChatFormatDetail.complaint\\\"></textarea>\\r\\n    </ion-col>\\r\\n    <ion-col size=12>\\r\\n      <p class=\\\"c-form__label document_for\\\">How long have you been experiencing said complaint?</p>\\r\\n      <textarea type=\\\"text\\\" class=\\\"c-form__input\\\" name=\\\"time\\\" [(ngModel)]=\\\"ptChatFormatDetail.howLong\\\"></textarea>\\r\\n    </ion-col>\\r\\n    <ion-col size=12>\\r\\n      <p class=\\\"c-form__label document_for\\\">Pre-existing illness,Current medication, Drug allergy</p>\\r\\n      <textarea type=\\\"text\\\" class=\\\"c-form__input\\\" name=\\\"notes\\\" [(ngModel)]=\\\"ptChatFormatDetail.preExistingIllness\\\"></textarea>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n  <ion-row>\\r\\n    <ion-col class=\\\"send\\\">\\r\\n      <ion-button (click)=\\\"sendTriageDoctor()\\\">Send</ion-button>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\";","export default \".appointment-close-button {\\n  position: absolute;\\n  font-size: 20px;\\n  right: 10px;\\n  color: #f53d3d;\\n  z-index: 1;\\n}\\n\\n.header {\\n  color: #919191;\\n  text-align: center;\\n  margin: 3px;\\n}\\n\\n.card {\\n  background: aliceblue;\\n  border-radius: 10px;\\n}\\n\\n.card__chat {\\n  text-align: end;\\n  margin-bottom: -30px;\\n  margin-top: 7px;\\n  margin-right: 7px;\\n  z-index: 999;\\n}\\n\\n.card__chat ion-icon {\\n  margin-bottom: -9px;\\n  margin-top: 7px;\\n  font-size: 23px;\\n  color: #0059b3;\\n  z-index: 999;\\n  position: relative;\\n}\\n\\n.card__header {\\n  display: flex;\\n  width: 100%;\\n  margin: 8px;\\n}\\n\\n.card__header-icon {\\n  width: 30px;\\n  height: 30px;\\n  text-align: center;\\n  border-radius: 50%;\\n  background: darkcyan;\\n}\\n\\n.card__header-icon ion-icon {\\n  color: #fff;\\n  font-size: 21px;\\n  position: absolute;\\n  top: 25px;\\n  left: 28px;\\n}\\n\\n.card__header-icon1 {\\n  width: 30px;\\n  height: 30px;\\n  text-align: center;\\n  border-radius: 50%;\\n  background: darkcyan;\\n}\\n\\n.card__header-icon1 img {\\n  color: #fff;\\n  width: 32px;\\n  height: 32px;\\n  position: absolute;\\n  top: 20px;\\n  left: 24px;\\n}\\n\\n.card__header h5 {\\n  color: #919191;\\n  font-weight: bold;\\n  margin: 7px 12px;\\n}\\n\\n.card__label {\\n  margin-right: 8px;\\n}\\n\\n.card__detail {\\n  color: #0059b3;\\n}\\n\\n.send {\\n  text-align: center;\\n}\\n\\n.send ion-button {\\n  --background: #00b395;\\n  --border-radius: 10px;\\n  margin-top: 10px;\\n  width: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2VuZC10cmlhZ2UtZG9jLWNvbXBsYWludC9GOlxcc3dhc3RoXFxzd2FzdGh2aXJ0dWFscGF0aWVudC9zcmNcXGFwcFxcc2VuZC10cmlhZ2UtZG9jLWNvbXBsYWludFxcc2VuZC10cmlhZ2UtZG9jLWNvbXBsYWludC5wYWdlLnNjc3MiLCJzcmMvYXBwL3NlbmQtdHJpYWdlLWRvYy1jb21wbGFpbnQvc2VuZC10cmlhZ2UtZG9jLWNvbXBsYWludC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7QUNDSjs7QURDQTtFQUNJLGNBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUNFSjs7QURBQTtFQUNJLHFCQUFBO0VBQ0EsbUJBQUE7QUNHSjs7QURGSTtFQUNJLGVBQUE7RUFDQSxvQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7QUNJUjs7QURIUTtFQUNJLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FDS1o7O0FERkk7RUFDSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7QUNJUjs7QURIUTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0FDS1o7O0FESlk7RUFDSSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7QUNNaEI7O0FESFE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtBQ0taOztBREpZO0VBQ0ksV0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtBQ01oQjs7QURIUTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FDS1o7O0FERkk7RUFDSSxpQkFBQTtBQ0lSOztBREZJO0VBQ0ksY0FBQTtBQ0lSOztBRERBO0VBQ0ksa0JBQUE7QUNJSjs7QURISTtFQUNJLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUNLUiIsImZpbGUiOiJzcmMvYXBwL3NlbmQtdHJpYWdlLWRvYy1jb21wbGFpbnQvc2VuZC10cmlhZ2UtZG9jLWNvbXBsYWludC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYXBwb2ludG1lbnQtY2xvc2UtYnV0dG9ue1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgcmlnaHQ6IDEwcHg7XHJcbiAgICBjb2xvcjogI2Y1M2QzZDtcclxuICAgIHotaW5kZXg6IDE7XHJcbn1cclxuLmhlYWRlciB7XHJcbiAgICBjb2xvcjogIzkxOTE5MTsgXHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDNweDtcclxufVxyXG4uY2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiBhbGljZWJsdWU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgJl9fY2hhdCB7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogZW5kOyBcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAtMzBweDsgXHJcbiAgICAgICAgbWFyZ2luLXRvcDogN3B4OyBcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDdweDtcclxuICAgICAgICB6LWluZGV4OiA5OTk7XHJcbiAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAtOXB4OyBcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogN3B4OyBcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyM3B4OyBcclxuICAgICAgICAgICAgY29sb3I6ICMwMDU5YjM7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDk5OTtcclxuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICZfX2hlYWRlciB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDsgXHJcbiAgICAgICAgd2lkdGg6IDEwMCU7IFxyXG4gICAgICAgIG1hcmdpbjogOHB4O1xyXG4gICAgICAgICYtaWNvbiB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAzMHB4OyBcclxuICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OyBcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOyBcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBkYXJrY3lhbjtcclxuICAgICAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDIxcHg7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDI1cHg7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAyOHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICYtaWNvbjEge1xyXG4gICAgICAgICAgICB3aWR0aDogMzBweDsgXHJcbiAgICAgICAgICAgIGhlaWdodDogMzBweDsgXHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsgXHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogZGFya2N5YW47XHJcbiAgICAgICAgICAgIGltZyB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAzMnB4OyBcclxuICAgICAgICAgICAgICAgIGhlaWdodDozMnB4OyBcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgIHRvcDogMjBweDtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaDUge1xyXG4gICAgICAgICAgICBjb2xvcjogIzkxOTE5MTtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7IFxyXG4gICAgICAgICAgICBtYXJnaW46IDdweCAxMnB4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICZfX2xhYmVsIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcclxuICAgIH1cclxuICAgICZfX2RldGFpbCB7XHJcbiAgICAgICAgY29sb3I6ICMwMDU5YjM7XHJcbiAgICB9XHJcbn1cclxuLnNlbmQge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgaW9uLWJ1dHRvbiB7XHJcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiAjMDBiMzk1O1xyXG4gICAgICAgIC0tYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDBweDtcclxuICAgIH1cclxufVxyXG4iLCIuYXBwb2ludG1lbnQtY2xvc2UtYnV0dG9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBmb250LXNpemU6IDIwcHg7XG4gIHJpZ2h0OiAxMHB4O1xuICBjb2xvcjogI2Y1M2QzZDtcbiAgei1pbmRleDogMTtcbn1cblxuLmhlYWRlciB7XG4gIGNvbG9yOiAjOTE5MTkxO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbjogM3B4O1xufVxuXG4uY2FyZCB7XG4gIGJhY2tncm91bmQ6IGFsaWNlYmx1ZTtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cbi5jYXJkX19jaGF0IHtcbiAgdGV4dC1hbGlnbjogZW5kO1xuICBtYXJnaW4tYm90dG9tOiAtMzBweDtcbiAgbWFyZ2luLXRvcDogN3B4O1xuICBtYXJnaW4tcmlnaHQ6IDdweDtcbiAgei1pbmRleDogOTk5O1xufVxuLmNhcmRfX2NoYXQgaW9uLWljb24ge1xuICBtYXJnaW4tYm90dG9tOiAtOXB4O1xuICBtYXJnaW4tdG9wOiA3cHg7XG4gIGZvbnQtc2l6ZTogMjNweDtcbiAgY29sb3I6ICMwMDU5YjM7XG4gIHotaW5kZXg6IDk5OTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuLmNhcmRfX2hlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW46IDhweDtcbn1cbi5jYXJkX19oZWFkZXItaWNvbiB7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiBkYXJrY3lhbjtcbn1cbi5jYXJkX19oZWFkZXItaWNvbiBpb24taWNvbiB7XG4gIGNvbG9yOiAjZmZmO1xuICBmb250LXNpemU6IDIxcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAyNXB4O1xuICBsZWZ0OiAyOHB4O1xufVxuLmNhcmRfX2hlYWRlci1pY29uMSB7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiBkYXJrY3lhbjtcbn1cbi5jYXJkX19oZWFkZXItaWNvbjEgaW1nIHtcbiAgY29sb3I6ICNmZmY7XG4gIHdpZHRoOiAzMnB4O1xuICBoZWlnaHQ6IDMycHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAyMHB4O1xuICBsZWZ0OiAyNHB4O1xufVxuLmNhcmRfX2hlYWRlciBoNSB7XG4gIGNvbG9yOiAjOTE5MTkxO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luOiA3cHggMTJweDtcbn1cbi5jYXJkX19sYWJlbCB7XG4gIG1hcmdpbi1yaWdodDogOHB4O1xufVxuLmNhcmRfX2RldGFpbCB7XG4gIGNvbG9yOiAjMDA1OWIzO1xufVxuXG4uc2VuZCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5zZW5kIGlvbi1idXR0b24ge1xuICAtLWJhY2tncm91bmQ6ICMwMGIzOTU7XG4gIC0tYm9yZGVyLXJhZGl1czogMTBweDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgd2lkdGg6IDEwMHB4O1xufSJdfQ== */\";","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { AuthService } from '../auth.service';\r\nimport { NavigationExtras } from '@angular/router';\r\nimport { Router } from '@angular/router';\r\nimport * as firebase from 'Firebase';\r\nimport { DataService } from '../services/data.service';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n\r\n@Component({\r\n  selector: 'app-send-triage-doc-complaint',\r\n  templateUrl: './send-triage-doc-complaint.page.html',\r\n  styleUrls: ['./send-triage-doc-complaint.page.scss'],\r\n})\r\nexport class SendTriageDocComplaintPage implements OnInit {\r\n  @Input() docDetail;\r\n  @Input() adminDocDetail;\r\n  @Input() circleCode;\r\n  @Input() ptDetail;\r\n  @Input() circleName;\r\n  @Input() ptChatFormatDetail;\r\n  @Input() triageChatDetail;\r\n\r\n  chatObj:any;\r\n  data = { roomname: '' };\r\n  rooms = [];\r\n  ref = firebase.database().ref('chatrooms/');\r\n  autoRefreshChat = firebase.database().ref('autorefresh/chatupdate');\r\n  currentroomKey: any;\r\n  chatRoomName: any;\r\n  myRand: any;\r\n  inference:String=\"\";\r\n  loginUserName:any;\r\n\r\n  randomString:any;\r\n  url: string;\r\n  age:any;\r\n\r\n\r\n  constructor(public modalCtrl: ModalController, public authService: AuthService, public router: Router,\r\n    public datepipe: DatePipe, private dataService: DataService) { }\r\n\r\n  ngOnInit() {\r\n    this.myRand = this.random();\r\n    console.log(\"triage room detail--\", this.ptDetail, this.docDetail, this.adminDocDetail, this.triageChatDetail,this.ptChatFormatDetail);\r\n    this.randomString = Math.random().toString(36).substring(7);\r\n    console.log(\"Random String==>\",this.randomString);\r\n    this.url=\"https://meet.jit.si/\"+this.randomString;\r\n    this.getAge(this.ptDetail.ptDob);\r\n  }\r\n\r\n  // admin triage to triage doctor\r\n  sendTriageDoctor()  {\r\n    console.log(\"triage\",);\r\n    let triageObj:any ={\r\n      circleCode: this.circleCode,\r\n      ptUserID: this.ptDetail.userID,\r\n      docUserID: this.adminDocDetail[0].docProfile.docUserID,\r\n      triageDocUserID: this.docDetail.docUserID,\r\n      createdDateTime: new Date(),\r\n      status: \"Active\",\r\n      ptName: this.ptDetail.ptFirstName+\" \"+this.ptDetail.ptLastName,\r\n      triageDocName: this.docDetail.docFirstName+\" \"+this.docDetail.docLastName,\r\n      chatRoomName: this.chatRoomName,\r\n      complaintStatus: \"No\",\r\n      // chatRoomKey: this.currentroomKey,\r\n      chatRoomKey: this.triageChatDetail.chatRoomKey,\r\n      referID: this.triageChatDetail.referID,  \r\n      videoCallLink:this.url\r\n    }\r\n\r\n    console.log(\"triageobj\",triageObj);\r\n    this.authService\r\n    .triageRefDoctor(triageObj)\r\n    .subscribe(data=>{\r\n      console.log(\"data\",data);\r\n      let triageDetail:any =data;\r\n      if(data!=null) {\r\n        let triageDoctorPtChat = firebase.database().ref('chatrooms/'+this.triageChatDetail.chatRoomKey+'/chats').push();\r\n        triageDoctorPtChat.set({\r\n          type: \"complaint\",\r\n          user: this.ptDetail.userID,\r\n          message: this.complaintMessage(\"triagePtChat\"),\r\n          sendDate:Date()\r\n        });\r\n        this.modalCtrl.dismiss();\r\n      } else{\r\n        alert(\"Unexpected error\");\r\n      }\r\n    });\r\n    \r\n    // this.ref.on('value', resp => {\r\n    //   this.rooms = [];\r\n    //   this.rooms = snapshotToArray(resp);\r\n    //   console.log(\"Rooms==>\", this.rooms);\r\n    //   for (let r of this.rooms) {\r\n    //     if (r.roomname == this.chatRoomName) {\r\n    //       console.log(\"Room selected==>\", r.roomname);\r\n    //       this.currentroomKey = r.key;\r\n    //     }\r\n    //   }\r\n    // });    \r\n    \r\n  }\r\n\r\n  complaintMessage(chat:any) {\r\n    let complaint: string=\"\";\r\n    console.log(\"complaint\", this.ptChatFormatDetail);\r\n    if (this.ptChatFormatDetail.howLong!=\"\" && this.ptChatFormatDetail.preExistingIllness!=\"\") {\r\n      complaint=\"General Health Complaint :\"+\"\\n\"+this.ptChatFormatDetail.complaint+'\\n\\n'+\r\n                    \"How long have you been experiencing said complaint ?\"+'\\n'+this.ptChatFormatDetail.howLong+'\\n\\n'+\r\n                    \"Pre-existing illness,Current medication, Drug allergy :\"+'\\n'+this.ptChatFormatDetail.preExistingIllness;  \r\n    }else if(this.ptChatFormatDetail.howLong!=\"\" && this.ptChatFormatDetail.preExistingIllness==\"\") {\r\n      complaint=\"General Health Complaint :\"+\"\\n\"+this.ptChatFormatDetail.complaint+'\\n\\n'+\r\n                    \"How long have you been experiencing said complaint ?\"+'\\n'+this.ptChatFormatDetail.howLong;\r\n    }else if(this.ptChatFormatDetail.howLong==\"\" && this.ptChatFormatDetail.preExistingIllness!=\"\") {\r\n      complaint=\"General Health Complaint :\"+\"\\n\"+this.ptChatFormatDetail.complaint+'\\n\\n'+\r\n                    \"Pre-existing illness,Current medication, Drug allergy :\"+'\\n'+this.ptChatFormatDetail.preExistingIllness;  \r\n    }else if(this.ptChatFormatDetail.howLong==\"\" && this.ptChatFormatDetail.preExistingIllness==\"\") {\r\n      complaint=\"General Health Complaint :\"+\"\\n\"+this.ptChatFormatDetail.complaint;\r\n    }\r\n    return complaint;\r\n  }\r\n\r\n  getAge(dob: Date) {\r\n    let latest_date = this.datepipe.transform(new Date(), 'yyyy-MM-dd');\r\n    let dobdate = new Date(dob);\r\n    let dobdate1 = new Date(latest_date);\r\n    var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds \r\n    var timeDiff = Math.round(Math.abs((dobdate1.getTime() - dobdate.getTime()) / (oneDay)));\r\n    //var diffDays = Math.round(Math.abs((dobdate.getTime() - current_date.getTime())/(oneDay)));\r\n    var a = (timeDiff / 365);\r\n    this.age = Math.floor(a);\r\n    //console.log(\"age----\"+this.age);\r\n    /*console.log(\"Age==\"+(timeDiff/365));*/\r\n  }\r\n  \r\n\r\n  random(): number {\r\n    let rand = Math.floor(Math.random() * 20000) + 1;\r\n    return rand;\r\n  }\r\n\r\n  closeModal(){\r\n    this.modalCtrl.dismiss();\r\n  }\r\n\r\n}\r\n\r\nexport const snapshotToArray = snapshot => {\r\n  let returnArr = [];\r\n\r\n  snapshot.forEach(childSnapshot => {\r\n    let item = childSnapshot.val();\r\n    item.key = childSnapshot.key;\r\n    returnArr.push(item);\r\n  });\r\n\r\n  return returnArr;\r\n};\r\n"]}