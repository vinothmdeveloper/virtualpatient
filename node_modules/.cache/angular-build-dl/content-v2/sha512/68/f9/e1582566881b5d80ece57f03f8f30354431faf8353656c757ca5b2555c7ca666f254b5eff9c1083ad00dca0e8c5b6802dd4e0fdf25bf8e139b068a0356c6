{"version":3,"sources":["./src/app/subscription-page/subscription-page.page.html","./src/app/razorpay.service.ts","./src/app/subscription-page/subscription-page-routing.module.ts","./src/app/subscription-page/subscription-page.module.ts","./src/app/subscription-page/subscription-page.page.scss","./src/app/subscription-page/subscription-page.page.ts"],"names":[],"mappings":"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","file":"subscription-page-subscription-page-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n      <img src=\\\"{{authService.logo_url}}\\\" height=\\\"24\\\" style=\\\"vertical-align: middle; padding-left: 15px;\\\">\\r\\n      <ion-title>Swasth</ion-title>\\r\\n    </ion-buttons>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-icon name=\\\"exit-outline\\\" style=\\\"font-size: 26px;\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-row>\\r\\n    <ion-col class=\\\"regis__heading\\\">\\r\\n      <h1>Become a Premium</h1>\\r\\n      <p>Get access to health locker and other swasth features with premium subscription</p>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n  <ion-grid fixed>\\r\\n    <ion-row style=\\\"margin-top: 10px;\\\">\\r\\n      <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\" offsetMd=\\\"3\\\" *ngIf=\\\"rzPlanList!=undefined\\\">\\r\\n        <ion-card *ngFor=\\\"let pl of rzPlanList.items\\\">  \\r\\n          <ion-card-content>\\r\\n            <div style=\\\"width: 100%; display: flex;\\\">\\r\\n              <div style=\\\"width: 65%;\\\">\\r\\n                <ion-card-subtitle>{{pl.item.name}}</ion-card-subtitle>\\r\\n                <ion-card-title>₹ {{pl.item.amount}}/ {{pl.period}}</ion-card-title>\\r\\n                <p>{{pl.item.description}}</p>\\r\\n              </div>\\r\\n              <div style=\\\"width: 35%; margin: auto;\\\">\\r\\n                <ion-button (click)=\\\"subscribe()\\\">Subscribe</ion-button>                \\r\\n              </div>\\r\\n            </div>\\r\\n          </ion-card-content>\\r\\n        </ion-card>        \\r\\n        <!-- <ion-card>\\r\\n          <ion-card-content>\\r\\n            <div style=\\\"width: 100%; display: flex;\\\">\\r\\n              <div style=\\\"width: 65%;\\\">\\r\\n                <ion-card-subtitle>Yearly</ion-card-subtitle>\\r\\n                <ion-card-title>₹ 80/ month</ion-card-title>\\r\\n                <p>Subscription Charged yearly - ₹960</p>\\r\\n              </div>\\r\\n              <div style=\\\"width: 35%; margin: auto;\\\">\\r\\n                <ion-button>Subscribe</ion-button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </ion-card-content>\\r\\n        </ion-card> -->        \\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <p style=\\\"font-weight: bold; padding-left: 10px; text-decoration: underline; color: #222222;\\\">Terms & Conditions:</p>\\r\\n        <p style=\\\"color: #737373;font-weight: 100; text-indent: 40px; padding-left: 10px; padding-right: 10px; word-break: break-all; font-size: 14px;\\\">ddada dada da da da da da da d dsa das da d ad ad sad sad ad ad ad ad sadas da da da da da dada dsada.</p>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestOptions } from '@angular/http';\r\n// import 'rxjs/add/operator/map';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RazorpayService {\r\n\r\n  data;\r\n\r\n  constructor(public http: Http,public loadingCtrl: LoadingController) { }\r\n\r\n  async callPost(url,data) {\r\n    var headers = new Headers();\r\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n    let options = new RequestOptions({ headers: headers });\r\n\r\n    const load=await this.loadingCtrl.create({});\r\n    load.present();\r\n\r\n    return new Promise((resolve,reject) => {\r\n      this.http.post(\"http://api.razorpay.com/\"+ url,data)\r\n      .pipe(finalize(()=>load.dismiss()))\r\n      .subscribe((res) => {\r\n          resolve(res);  \r\n      },(err)=>{\r\n        reject(err);\r\n      })\r\n    });\r\n  }\r\n\r\n  async callGet(url){\r\n    var headers = new Headers();\r\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n    let options = new RequestOptions({ headers: headers });\r\n\r\n    let load = await this.loadingCtrl.create({});\r\n    load.present();\r\n\r\n    return new Promise((resolve,reject) => {\r\n      this.http.get(\"http://api.razorpay.com/\"+ url)\r\n      .pipe(finalize(()=>load.dismiss()))\r\n      .subscribe((res) => {\r\n          resolve(res);  \r\n      },(err)=>{\r\n        reject(err);\r\n      })\r\n    });\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SubscriptionPagePage } from './subscription-page.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SubscriptionPagePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SubscriptionPagePageRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SubscriptionPagePageRoutingModule } from './subscription-page-routing.module';\r\n\r\nimport { SubscriptionPagePage } from './subscription-page.page';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SubscriptionPagePageRoutingModule\r\n  ],\r\n  declarations: [SubscriptionPagePage]\r\n})\r\nexport class SubscriptionPagePageModule {}\r\n","export default \".regis__heading {\\n  height: 180px;\\n  padding-top: 50px;\\n  background-image: linear-gradient(120deg, #0059b3, #00b395);\\n}\\n.regis__heading h1 {\\n  text-align: center;\\n  color: #fff;\\n  text-shadow: 1px 1px 5px #222222;\\n}\\n.regis__heading p {\\n  text-align: center;\\n  color: #fff;\\n}\\nion-button {\\n  --border-radius: 30px;\\n  --background: #00b395;\\n}\\nion-card {\\n  --background:aliceblue;\\n  border-radius: 10px;\\n}\\nion-card ion-card-title {\\n  color: #0059b3;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3Vic2NyaXB0aW9uLXBhZ2UvRjpcXHN3YXN0aFxcc3dhc3RodmlydHVhbHBhdGllbnQvc3JjXFxhcHBcXHN1YnNjcmlwdGlvbi1wYWdlXFxzdWJzY3JpcHRpb24tcGFnZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3N1YnNjcmlwdGlvbi1wYWdlL3N1YnNjcmlwdGlvbi1wYWdlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLGFBQUE7RUFDQSxpQkFBQTtFQUNBLDJEQUFBO0FDQVI7QURDUTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGdDQUFBO0FDQ1o7QURDUTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtBQ0NaO0FER0E7RUFDSSxxQkFBQTtFQUNBLHFCQUFBO0FDQUo7QURFQTtFQUNJLHNCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBREFJO0VBQ0ksY0FBQTtBQ0VSIiwiZmlsZSI6InNyYy9hcHAvc3Vic2NyaXB0aW9uLXBhZ2Uvc3Vic2NyaXB0aW9uLXBhZ2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZ2lze1xyXG4gICAgJl9faGVhZGluZyB7XHJcbiAgICAgICAgaGVpZ2h0OiAxODBweDtcclxuICAgICAgICBwYWRkaW5nLXRvcDogNTBweDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoMTIwZGVnLCAjMDA1OWIzLCAjMDBiMzk1KTtcclxuICAgICAgICBoMSB7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgIHRleHQtc2hhZG93OiAxcHggMXB4IDVweCAjMjIyMjIyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwIHtcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuaW9uLWJ1dHRvbiB7XHJcbiAgICAtLWJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgICAtLWJhY2tncm91bmQ6ICMwMGIzOTU7XHJcbn1cclxuaW9uLWNhcmQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOmFsaWNlYmx1ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBpb24tY2FyZC10aXRsZSB7XHJcbiAgICAgICAgY29sb3I6ICMwMDU5YjM7XHJcbiAgICB9XHJcbn0iLCIucmVnaXNfX2hlYWRpbmcge1xuICBoZWlnaHQ6IDE4MHB4O1xuICBwYWRkaW5nLXRvcDogNTBweDtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDEyMGRlZywgIzAwNTliMywgIzAwYjM5NSk7XG59XG4ucmVnaXNfX2hlYWRpbmcgaDEge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LXNoYWRvdzogMXB4IDFweCA1cHggIzIyMjIyMjtcbn1cbi5yZWdpc19faGVhZGluZyBwIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogI2ZmZjtcbn1cblxuaW9uLWJ1dHRvbiB7XG4gIC0tYm9yZGVyLXJhZGl1czogMzBweDtcbiAgLS1iYWNrZ3JvdW5kOiAjMDBiMzk1O1xufVxuXG5pb24tY2FyZCB7XG4gIC0tYmFja2dyb3VuZDphbGljZWJsdWU7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG5pb24tY2FyZCBpb24tY2FyZC10aXRsZSB7XG4gIGNvbG9yOiAjMDA1OWIzO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { AuthService } from '../auth.service';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\r\nimport { RazorpayService } from '../razorpay.service';\r\n\r\n@Component({\r\n  selector: 'app-subscription-page',\r\n  templateUrl: './subscription-page.page.html',\r\n  styleUrls: ['./subscription-page.page.scss'],\r\n})\r\nexport class SubscriptionPagePage implements OnInit {\r\n  paymentId:any;\r\n\r\n  planList:any = [];\r\n  rzPlanList:any;\r\n  circleObj:any;\r\n  subscribeResp:any;  \r\n  docProfileList:any;\r\n  circleDetail:any;\r\n  ptDetail:any;\r\n\r\n  constructor(private route: ActivatedRoute, private router: Router,private readonly authService: AuthService, \r\n    private iab: InAppBrowser,private razorpayService: RazorpayService) { \r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      this.docProfileList = this.router.getCurrentNavigation().extras.state.docProfileList;\r\n      this.circleDetail = this.router.getCurrentNavigation().extras.state.circledetail;\r\n      this.ptDetail = this.router.getCurrentNavigation().extras.state.ptdetail;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.route.queryParams.subscribe(params => {\r\n      if (this.router.getCurrentNavigation().extras.state) {\r\n        this.circleObj = this.router.getCurrentNavigation().extras.state.circleObj;\r\n      }\r\n    });\r\n\r\n    this.getRazorpayPlanList();\r\n\r\n  }\r\n\r\n  // get swasth subscribe plan list\r\n  getPlanList() {\r\n    this.authService.getSubscribPlanList()\r\n    .subscribe(data=>{\r\n      console.log(\"response res--\",data);\r\n      this.planList = data;\r\n    });\r\n  }\r\n\r\n  // get razorpay subscribe plan list\r\n  getRazorpayPlanList() {\r\n    this.authService.getRazorpaySubscribPlanList()\r\n    .subscribe(data=>{\r\n      console.log(\"response res--\",data);\r\n      this.rzPlanList = data;\r\n    });\r\n  }\r\n\r\n  circlepage() {\r\n    console.log(\"asdada\");\r\n    // this.router.navigate(['/login']);\r\n  }\r\n\r\n  subscribe() {\r\n    console.log(\"circle detail\", this.circleDetail, this.docProfileList, this.ptDetail);\r\n    let addCircleObj:any={\r\n      userID: this.ptDetail.userID,\r\n      circleCode: this.circleDetail.circleObj.circleCode,\r\n      createdDateTime: new Date(),\r\n      subscribePlanId: \"1\",\r\n      status: \"Active\"\r\n    }\r\n    let createPtChatObj:any={\r\n      circleCode: this.circleDetail.circleObj.circleCode,\r\n      circleName: this.circleDetail.circleObj.circleName ,\r\n      docUserID: this.circleDetail.circleObj.createdByUserId ,\r\n      patientUserID: this.ptDetail.userID,\r\n      patientName: this.ptDetail.ptFirstName+\" \"+ this.ptDetail.ptLastName,\r\n      chatRoomKey: this.circleDetail.circleObj.chatRoomKey ,\r\n      chatRoomName: this.circleDetail.circleObj.chatRoomName ,\r\n      createdByDateTime: new Date(),\r\n      status: \"Active\"\r\n    }\r\n    for(let dl of this.docProfileList) {\r\n      if(dl.docUserID==this.circleDetail.circleObj.createdByUserId) {\r\n        createPtChatObj.doctorName=dl.docFirstName+\" \"+dl.docLastName;\r\n      }\r\n    }\r\n    console.log(\"addcircle\", addCircleObj);\r\n    console.log(\"createchat\", createPtChatObj);\r\n    this.authService\r\n    .addPtToCircle(addCircleObj)\r\n    .subscribe(data=>{\r\n      console.log(\"data\", data);\r\n      \r\n    });\r\n    this.authService\r\n    .createPtChat(createPtChatObj)\r\n    .subscribe(data1=>{\r\n      console.log(\"data1\", data1);\r\n    });\r\n  }\r\n\r\n  pay()\r\n  {\r\n    var options = {\r\n      description: 'Credits towards consultation',\r\n      // image: 'https://i.imgur.com/3g7nmJC.png',\r\n      currency: 'INR',\r\n      key: 'rzp_test_SeRkqskw09t911',\r\n      subscription_id: 'sub_ExjrNTF4gFrnnz',\r\n      name: \"Varadhan P\",\r\n      'handler': this.paymentCapture.bind(this),  \r\n      prefill: {\r\n        email: 'varadhan@swasth.tech',\r\n        contact: '9884396427'\r\n      },    \r\n      theme: {\r\n        color: '#F37254'\r\n      },\r\n      modal: {\r\n        ondismiss: () => { // <- Here!\r\n          //alert('dismissed')\r\n        }\r\n      }\r\n    }\r\n\r\n    var successCallback = (payment_id) => { // <- Here!\r\n      //alert('payment_id: ' + payment_id);\r\n      // this.navCtrl.push(\"ThankyouPage\",{\r\n      //         status: this.status\r\n      //     });\r\n    };\r\n    \r\n    var cancelCallback = (error) => { // <- Here!\r\n      alert(error.description + ' (Error ' + error.code + ')');\r\n    };\r\n\r\n    Razorpay.open(options, successCallback, cancelCallback);\r\n  }\r\n\r\n  paymentCapture(response) { \r\n    this.paymentId = response.razorpay_payment_id;\r\n    //alert(this.paymentId);\r\n    console.log(\"payment id \"+this.paymentId);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}