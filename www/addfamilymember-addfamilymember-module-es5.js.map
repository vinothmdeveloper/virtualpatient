{"version":3,"sources":["webpack:///node_modules/Firebase/app/index.js","webpack:///node_modules/Firebase/auth/index.js","webpack:///node_modules/Firebase/database/index.js","webpack:///node_modules/Firebase/index.js","webpack:///node_modules/Firebase/messaging/index.js","webpack:///node_modules/Firebase/storage/index.js","webpack:///src/app/addfamilymember/addfamilymember.page.html","webpack:///src/app/addfamilymember/addfamilymember-routing.module.ts","webpack:///src/app/addfamilymember/addfamilymember.module.ts","webpack:///src/app/addfamilymember/addfamilymember.page.scss","webpack:///src/app/addfamilymember/addfamilymember.page.ts"],"names":["module","exports","firebase","routes","path","component","AddfamilymemberPageRoutingModule","imports","forChild","AddfamilymemberPageModule","declarations","AddfamilymemberPage","authService","loadingController","toastCtrl","alertCtrl","platform","datepipe","jwtHelper","swStorage","loginAuth","storage","router","ConfirmPassword","mobnumPattern","familyMemberObj","familyMembersDetails","newLogin","ref","data","roomname","signUpStatus","childStatus","CurrentDate","Date","value","console","log","create","spinner","message","loading","present","familyMemberFullName","ptFirstName","ptLastName","ptDob","ptGender","createdByUserID","userdetail","userID","createdDateTime","status","addFamilyMember","pipe","dismiss","subscribe","jwt","showSuccesToast","err","handleError","chatRoomName","circleAdminDocDetails","docFirstName","docLastName","myRand","newData","push","set","currentroomKey","key","addCircleObj","circleCode","familyMemberCircleCode","subscribePlanId","subscriptionType","accountType","userType","createPtChatObj","circleName","familyPrimaryMemberCircleDetails","docUserID","patientUserID","patientName","createdByDateTime","videoCallLink","url","doctorName","chatRoomKey","chatRestrictSubscribeObj","subscriptionId","chatRestictionDetails","subscriptionFromDate","subscriptionToDate","paymentId","createdByUserId","chatCount","chatRequestCount","createChatRestriction","addPtToCircle","createPtChat","data1","navigateByUrl","error","duration","position","toast","getStorage","LOGINUSER_PROFILE","then","undefined","getCircleCode","getCircleEntity","getDoctorProfile","chatObj","getChatRestrictDetail","randomString","Math","random","toString","substring","value1","rand","floor","logout","selector","template"],"mappings":"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","file":"addfamilymember-addfamilymember-module-es5.js","sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/polyfill');\nmodule.exports = require('@firebase/app').default;\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/auth');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require('@firebase/database');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar firebase = require('./app');\nrequire('./auth');\nrequire('./database');\nrequire('./messaging');\nrequire('./storage');\n\nmodule.exports = firebase;\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/messaging');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/storage');\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n      <img src=\\\"{{authService.logo_url}}\\\" height=\\\"24\\\" style=\\\"vertical-align: middle; padding-left: 15px;\\\">\\n      <ion-title>Swasth</ion-title>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-icon name=\\\"notifications-outline\\\" style=\\\"font-size: 26px; padding-right: 20px;\\\"></ion-icon>\\n      <ion-icon name=\\\"exit-outline\\\" style=\\\"font-size: 26px;\\\" (click)=\\\"logout()\\\"></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-row class=\\\"login-grid\\\">\\n    <ion-col size=\\\"12\\\" sizeLg=\\\"8\\\">\\n      <div class=\\\"c-card\\\">\\n        <h1 class=\\\"login-logo__text\\\">Add Family Member</h1>\\n        <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"addFamilyMember(form.value)\\\">\\n          <ion-row>\\n            <ion-col>\\n              <label class=\\\"c-form__label\\\" >Key: <span style=\\\"color:#f53d3d;\\\">* Fields are mandatory</span></label>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n              <div class=\\\"c-form__field\\\">\\n                <label class=\\\"c-form__label\\\" for=\\\"first_name\\\">First Name<sup>*</sup></label>\\n                <input type=\\\"text\\\" class=\\\"c-form__input\\\" name=\\\"ptFirstName\\\" ngModel required #ptFirstName=\\\"ngModel\\\"\\n                  [class.invalid]=\\\"ptFirstName.errors && ptFirstName.dirty\\\">\\n                <ion-item class=\\\"error-message\\\" *ngIf=\\\"ptFirstName.errors?.required && ptFirstName.dirty\\\">\\n                  First Name is required\\n                </ion-item>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n              <div class=\\\"c-form__field\\\">\\n                <label class=\\\"c-form__label\\\" for=\\\"last_name\\\">Last Name<sup>*</sup></label>\\n                <input type=\\\"text\\\" class=\\\"c-form__input\\\" name=\\\"ptLastName\\\" ngModel required #ptLastName=\\\"ngModel\\\"\\n                  [class.invalid]=\\\"ptLastName.errors && ptLastName.dirty\\\">\\n                <ion-item class=\\\"error-message\\\" *ngIf=\\\"ptLastName.errors?.required && ptLastName.dirty\\\">\\n                  Last Name is required\\n                </ion-item>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n              <div class=\\\"c-form__field\\\">\\n                <label class=\\\"c-form__label\\\" for=\\\"dob\\\">DOB<sup>*</sup></label>\\n                <input type=\\\"date\\\" class=\\\"c-form__input\\\" name=\\\"ptDob\\\" displayFormat=\\\"DD/MM/YYYY\\\" ngModel required #ptDob=\\\"ngModel\\\"\\n                  [class.invalid]=\\\"ptDob.errors && ptDob.dirty\\\">\\n                <ion-item class=\\\"error-message\\\" *ngIf=\\\"ptDob.errors?.required && ptDob.dirty\\\">\\n                  Date of birth is required\\n                </ion-item>   \\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n              <div class=\\\"c-form__field\\\">\\n                <label class=\\\"c-form__label\\\">Sex<sup>*</sup></label>\\n              </div>\\n              <ion-list radio-group class=\\\"gender-list\\\">\\n                <ion-row>\\n                  <ion-col size size-md padding-right>\\n                    <div class=\\\"c-form__field\\\">\\n                      <label class=\\\"c-form__label\\\"><input type=\\\"radio\\\" name=\\\"ptGender\\\" ngModel required #ptGender=\\\"ngModel\\\" class=\\\"c-form__radio\\\" value=\\\"Male\\\"> Male</label>\\n                    </div>\\n                  </ion-col>\\n                  <ion-col size size-md padding-right>\\n                    <div class=\\\"c-form__field\\\">\\n                      <label class=\\\"c-form__label\\\"><input type=\\\"radio\\\" name=\\\"ptGender\\\" ngModel required #ptGender=\\\"ngModel\\\" class=\\\"c-form__radio\\\" value=\\\"Female\\\"> Female</label>\\n                    </div>\\n                  </ion-col>\\n                  <ion-col size size-md  padding-right>\\n                    <div class=\\\"c-form__field\\\">\\n                      <label class=\\\"c-form__label\\\"><input type=\\\"radio\\\" name=\\\"ptGender\\\" ngModel required #ptGender=\\\"ngModel\\\" class=\\\"c-form__radio\\\" value=\\\"Others\\\"> Others</label>\\n                    </div>\\n                  </ion-col>\\n                </ion-row>\\n              </ion-list>\\n              <ion-item class=\\\"error-message\\\" *ngIf=\\\"ptGender.errors?.required && ptGender.dirty\\\">\\n                Gender is required\\n              </ion-item>\\n            </ion-col>            \\n            <ion-col size=\\\"12\\\">\\n              <div class=\\\"c-form__field\\\">\\n                <ion-button type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\">Create an Account</ion-button>\\n              </div>\\n            </ion-col>\\n          </ion-row>\\n        </form>\\n      </div>\\n      <!-- <div class=\\\"login-paragraph\\\">\\n        <div class=\\\"login-paragraph__text\\\">\\n          Already have an account? <a (click)=\\\"linkLogin()\\\" class=\\\"login-paragraph__link\\\">Login</a>\\n        </div>\\n      </div> -->\\n    </ion-col>\\n  </ion-row>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddfamilymemberPage } from './addfamilymember.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddfamilymemberPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddfamilymemberPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddfamilymemberPageRoutingModule } from './addfamilymember-routing.module';\n\nimport { AddfamilymemberPage } from './addfamilymember.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddfamilymemberPageRoutingModule\n  ],\n  declarations: [AddfamilymemberPage]\n})\nexport class AddfamilymemberPageModule {}\n","export default \".c-card {\\n  margin-top: 120px;\\n  margin-bottom: 20px;\\n  padding: 15px;\\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\n  background-color: #fff;\\n  border-radius: 15px;\\n}\\n.c-card > *:last-child {\\n  margin-bottom: 0;\\n}\\n.gender-list {\\n  padding-top: 0px;\\n  padding-bottom: 0px;\\n  background: inherit;\\n}\\nion-button {\\n  width: 100%;\\n  --ion-background-color:#0059b3;\\n  border-radius: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRkZmFtaWx5bWVtYmVyL0Y6XFxzd2FzdGhcXHN3YXN0aHZpcnR1YWxwYXRpZW50L3NyY1xcYXBwXFxhZGRmYW1pbHltZW1iZXJcXGFkZGZhbWlseW1lbWJlci5wYWdlLnNjc3MiLCJzcmMvYXBwL2FkZGZhbWlseW1lbWJlci9hZGRmYW1pbHltZW1iZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUJBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7RUFDQSx3Q0FBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBREFJO0VBQ0ksZ0JBQUE7QUNFUjtBREVBO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FDQ0o7QURFQTtFQUNJLFdBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9hZGRmYW1pbHltZW1iZXIvYWRkZmFtaWx5bWVtYmVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jLWNhcmQge1xyXG4gICAgbWFyZ2luLXRvcDogMTIwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgcGFkZGluZzogMTVweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgID4gKjpsYXN0LWNoaWxkIHtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgfVxyXG59XHJcblxyXG4uZ2VuZGVyLWxpc3Qge1xyXG4gICAgcGFkZGluZy10b3A6IDBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG59XHJcblxyXG5pb24tYnV0dG9uIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojMDA1OWIzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufSIsIi5jLWNhcmQge1xuICBtYXJnaW4tdG9wOiAxMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgcGFkZGluZzogMTVweDtcbiAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbn1cbi5jLWNhcmQgPiAqOmxhc3QtY2hpbGQge1xuICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG4uZ2VuZGVyLWxpc3Qge1xuICBwYWRkaW5nLXRvcDogMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xuICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xufVxuXG5pb24tYnV0dG9uIHtcbiAgd2lkdGg6IDEwMCU7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6IzAwNTliMztcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn0iXX0= */\";","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { LoadingController, ToastController, AlertController, Platform } from '@ionic/angular';\nimport { finalize } from 'rxjs/operators';\nimport { AuthService } from \"../auth.service\";\nimport { DatePipe } from '@angular/common';\nimport { JwtHelperService } from \"@auth0/angular-jwt\";\nimport { Storage } from \"@ionic/storage\";\nimport { SwasthStorageService } from '../storage/swasth-storage.service';\nimport { LoginAuthService } from '../services/login-auth.service';\nimport { Router } from '@angular/router';\nimport * as firebase from 'Firebase';\n\n@Component({\n  selector: 'app-addfamilymember',\n  templateUrl: './addfamilymember.page.html',\n  styleUrls: ['./addfamilymember.page.scss'],\n})\nexport class AddfamilymemberPage implements OnInit {\n\n  public age1: any;\n  public ConfirmPassword: any = [];\n  mobnumPattern = \"^((\\\\+91-?)|0)?[0-9]{10}$\";\n  CurrentDate: any;\n  familyMemberObj: any = {};\n  user: string;\n  tenantID: string;\n  userfirstLetter: string;\n  familyMembersDetails: any = {};\n  primaryUser: any;\n  familymemberId: any;\n  newLogin = \"\";\n  userType: any;\n  userdetail: any;\n  familyMemberCircleCode: any;\n  circleAdminDocDetails: any;\n  familyPrimaryMemberCircleDetails: any;\n  familyMemberFullName: any;\n  url: string;\n  randomString: string;\n  myRand: any;\n  chatRoomName: any;\n  ref = firebase.database().ref('chatrooms/');\n  currentroomKey: any;\n  data = { roomname: '' };\n\n  chatRestictionDetails:any;\n\n  @Input() signUpStatus = true;\n  @Output() childStatus = new EventEmitter<boolean>();\n\n  constructor(private readonly authService: AuthService,\n    private readonly loadingController: LoadingController,\n    private readonly toastCtrl: ToastController,\n    private readonly alertCtrl: AlertController,\n    private platform: Platform, public datepipe: DatePipe,\n    jwtHelper: JwtHelperService,\n    private swStorage: SwasthStorageService,\n    private loginAuth: LoginAuthService,\n    private readonly storage: Storage,\n    private router: Router) {\n    this.ConfirmPassword = true;\n    this.CurrentDate = new Date();\n\n    // this.authService\n    // .authUser\n    // .subscribe(jwt => {\n    //   if (jwt) {\n    //     const decoded = jwtHelper.decodeToken(jwt);\n    //     this.user = decoded;\n    //     this.userType=decoded.type;\n    //     this.tenantID=decoded.TenantID;\n    //     console.log(this.user); \n    //     this.primaryUser=decoded.UID;        \n    //     this.familymemberId=decoded.UID;   \n    //   }\n    //   else {\n    //     this.user = null;\n    //   }\n    // }); \n   \n\n  }\n\n  async addFamilyMember(value: any) {\n    console.log(value);\n    let loading = await this.loadingController.create({\n      spinner: 'bubbles',\n      message: 'Signing up ...'\n    });\n    await loading.present();\n\n    this.familyMemberFullName = value.ptFirstName + \" \" + value.ptLastName;\n    this.familyMemberObj.ptFirstName = value.ptFirstName;\n    this.familyMemberObj.ptLastName = value.ptLastName;\n    this.familyMemberObj.ptDob = value.ptDob;\n    this.familyMemberObj.ptGender = value.ptGender;\n    this.familyMemberObj.createdByUserID = this.userdetail.userID;\n    this.familyMemberObj.createdDateTime = new Date();\n    this.familyMemberObj.status = \"Active\";\n    console.log(\"Add Family Member Object==>\", this.familyMemberObj);\n    this.authService\n      .addFamilyMember(this.familyMemberObj)\n      .pipe(finalize(() => loading.dismiss()))\n      .subscribe(\n        (jwt) => this.showSuccesToast(jwt),\n        err => this.handleError(err)\n      );\n  }\n\n  // toast controller alert\n  private async showSuccesToast(jwt) {\n    if (jwt != null) {\n      this.chatRoomName = this.circleAdminDocDetails.docFirstName + \" \" + this.circleAdminDocDetails.docLastName + \"-\" + this.familyMemberFullName + \" \" + this.myRand;\n      let newData = this.ref.push();\n      newData.set({\n        roomname: this.chatRoomName\n      });\n      this.currentroomKey = newData.key;\n      let addCircleObj: any = {\n        userID: jwt,\n        circleCode: this.familyMemberCircleCode,\n        createdDateTime: new Date(),\n        subscribePlanId: \"1\",\n        status: \"Active\",\n        subscriptionType: this.userdetail.accountType,\n        userType: \"Secondary\"\n      }\n      let createPtChatObj: any = {\n        circleCode: this.familyMemberCircleCode,\n        circleName: this.familyPrimaryMemberCircleDetails.circleName,\n        docUserID: this.circleAdminDocDetails.docUserID,\n        patientUserID: jwt,\n        patientName: this.familyMemberFullName,\n        createdByDateTime: new Date(),\n        videoCallLink: this.url,\n        status: \"Deactive\",\n        doctorName: this.circleAdminDocDetails.docFirstName + \" \" + this.circleAdminDocDetails.docLastName,\n        chatRoomName: this.chatRoomName,\n        chatRoomKey: this.currentroomKey\n      }\n      let chatRestrictSubscribeObj: any = {\n        userID: jwt,\n        subscriptionId: this.chatRestictionDetails.subscriptionId,\n        subscriptionFromDate: this.chatRestictionDetails.subscriptionFromDate,\n        subscriptionToDate: this.chatRestictionDetails.subscriptionToDate,\n        paymentId: this.chatRestictionDetails.paymentId,\n        circleCode: this.chatRestictionDetails.circleCode,\n        createdByUserId: this.userdetail.userID,\n        createdDateTime: new Date(),\n        status: \"Deactive\",\n        chatCount: 0,\n        subscriptionType: this.chatRestictionDetails.subscriptionType,\n        chatRequestCount:0\n      }\n\n      console.log(\"addcircle\", addCircleObj);\n      console.log(\"createchat\", createPtChatObj);\n      console.log(\"createchatrestriction\", chatRestrictSubscribeObj);\n\n      this.authService\n      .createChatRestriction(chatRestrictSubscribeObj)\n      .subscribe(data => {\n        console.log(\"success restriction\", data);\n      });\n\n      this.authService\n        .addPtToCircle(addCircleObj)\n        .subscribe(data => {\n          console.log(\"data\", data);\n          if (data != null) {\n            createPtChatObj.chatRoomKey = this.currentroomKey;\n            this.authService\n              .createPtChat(createPtChatObj)\n              .subscribe(data1 => {\n                console.log(\"data1\", data1);\n                if(data1!=null)\n                {\n                  this.router.navigateByUrl('familymembers');\n                }\n                \n              });\n          }\n        });\n      \n    }\n\n    // console.log(\"Response Message======\"+jwt);\n    // if (jwt !== 'EXISTS') {      \n    //   let alert = await this.alertCtrl.create({\n    //     header: 'You have successfully registered',\n    //     message: 'This is your UID <b>'+jwt+'<b><br/><br/> Please make a note of this or else you will not be able to log in.',\n    //     buttons: [{\n    //       text: 'OK', \n    //       handler: () => {              \n    //         this.childStatus.emit(false);\n    //       }\n    //     }]\n    //   });\n    //await alert.present();\n    /*const toast = this.toastCtrl.create({\n      message: 'Sign up successful',\n      duration: 3000,\n      position: 'bottom'\n    });\n    toast.present();*/\n    // }    \n    // else {\n    //   const toast = await this.toastCtrl.create({\n    //     message: 'Username already registered',\n    //     duration: 3000,\n    //     position: 'bottom'\n    //   });\n    //   await toast.present();\n    //   // this.usernameModel.control.setErrors({'usernameTaken': true});\n    // }\n  }\n\n  async handleError(error: any) {\n    let message = `Unexpected error occurred`;\n    const toast = await this.toastCtrl.create({\n      message,\n      duration: 5000,\n      position: 'bottom'\n    });\n    await toast.present();\n  }\n\n  ngOnInit() {\n    this.swStorage.getStorage(this.loginAuth.LOGINUSER_PROFILE).then(data => {\n      this.userdetail = data;\n      if (this.userdetail != undefined || this.userdetail != null ) {\n      this.authService\n        .getCircleCode(this.userdetail.userID, this.userdetail.accountType)\n        .subscribe(data => {\n          if (data != null) {\n            this.familyMemberCircleCode = data;\n            console.log(\"Circle Code==>\", this.familyMemberCircleCode);\n\n            this.authService\n              .getCircleEntity(this.familyMemberCircleCode)\n              .subscribe(data => {\n                this.familyPrimaryMemberCircleDetails = data;\n                console.log(\"Circle Details==>\", this.familyPrimaryMemberCircleDetails);\n                this.authService\n                  .getDoctorProfile(this.familyPrimaryMemberCircleDetails.createdByUserId)\n                  .subscribe(data => {\n                    this.circleAdminDocDetails = data;\n                    console.log(\"Circle Admin Doctor Details==>\", this.circleAdminDocDetails);\n                  });\n              });\n          }\n\n          let chatObj:any = {\n            userID: this.userdetail.userID,\n            circleCode: this.familyMemberCircleCode\n          }\n          console.log(\"Chattttt Obj==>\",chatObj);\n          this.authService\n          .getChatRestrictDetail(chatObj)\n          .subscribe(data=>{\n            this.chatRestictionDetails=data;\n            console.log(\"Chat Restriction Details==>\",this.chatRestictionDetails);\n          });\n\n        });\n      }\n\n    });\n\n    this.randomString = Math.random().toString(36).substring(7);\n    console.log(\"Random String==>\", this.randomString);\n    this.url = \"https://meet.jit.si/\" + this.randomString;\n    this.myRand = this.random();\n  }\n\n  // check confirm password match\n  checkPassword(value: string, value1: string) {\n    if (value != value1) {\n      this.ConfirmPassword = false;\n    }\n    else {\n      this.ConfirmPassword = true;\n    }\n  }\n\n  random(): number {\n    let rand = Math.floor(Math.random() * 20000) + 1;\n    return rand;\n  }\n\n  logout() {\n    this.loginAuth.logout();\n  }\n\n}\n"]}